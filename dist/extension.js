module.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=33)}([function(t,e){t.exports=require("vscode")},function(t,e,i){(function(){var e,n,r,s,o,a,l,c,u,h,d,f,p={}.hasOwnProperty;f=i(4),d=f.isObject,h=f.isFunction,u=f.isEmpty,o=null,e=null,n=null,r=null,s=null,l=null,c=null,a=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],o||(o=i(7),e=i(8),n=i(9),r=i(10),s=i(11),l=i(16),c=i(17),a=i(18))}return t.prototype.element=function(t,e,i){var n,r,s,o,a,l,c,f,y,m;if(l=null,null==e&&(e={}),e=e.valueOf(),d(e)||(i=(y=[e,i])[0],e=y[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(s=0,c=t.length;s<c;s++)r=t[s],l=this.element(r);else if(h(t))l=this.element(t.apply());else if(d(t)){for(a in t)if(p.call(t,a))if(m=t[a],h(m)&&(m=m.apply()),d(m)&&u(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))l=this.attribute(a.substr(this.stringify.convertAttKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(o=0,f=m.length;o<f;o++)r=m[o],(n={})[a]=r,l=this.element(n);else d(m)?(l=this.element(a)).element(m):l=this.element(a,m)}else l=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(i):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(i):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(i):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(i):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),i):this.node(t,e,i);if(null==l)throw new Error("Could not create any elements with: "+t);return l},t.prototype.insertBefore=function(t,e,i){var n,r,s;if(this.isRoot)throw new Error("Cannot insert elements at root level");return r=this.parent.children.indexOf(this),s=this.parent.children.splice(r),n=this.parent.element(t,e,i),Array.prototype.push.apply(this.parent.children,s),n},t.prototype.insertAfter=function(t,e,i){var n,r,s;if(this.isRoot)throw new Error("Cannot insert elements at root level");return r=this.parent.children.indexOf(this),s=this.parent.children.splice(r+1),n=this.parent.element(t,e,i),Array.prototype.push.apply(this.parent.children,s),n},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,i){var n,r;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),d(e)||(i=(r=[e,i])[0],e=r[1]),n=new o(this,t,e),null!=i&&n.text(i),this.children.push(n),n},t.prototype.text=function(t){var e;return e=new c(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var i;return i=new e(this,t),this.children.push(i),this},t.prototype.comment=function(t){var e;return e=new n(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,i;return e=this.parent.children.indexOf(this),i=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.commentAfter=function(t){var e,i;return e=this.parent.children.indexOf(this),i=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.raw=function(t){var e;return e=new l(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var i,n,r,s,o;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(s=0,o=t.length;s<o;s++)i=t[s],this.instruction(i);else if(d(t))for(i in t)p.call(t,i)&&(n=t[i],this.instruction(i,n));else h(e)&&(e=e.apply()),r=new a(this,t,e),this.children.push(r);return this},t.prototype.instructionBefore=function(t,e){var i,n;return i=this.parent.children.indexOf(this),n=this.parent.children.splice(i),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(t,e){var i,n;return i=this.parent.children.indexOf(this),n=this.parent.children.splice(i+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(t,e,i){var n,s;return n=this.document(),s=new r(n,t,e,i),n.children[0]instanceof r?n.children[0]=s:n.children.unshift(s),n.root()||n},t.prototype.doctype=function(t,e){var i,n,r,o,a,l,c,u,h;for(i=this.document(),n=new s(i,t,e),r=o=0,l=(u=i.children).length;o<l;r=++o)if(u[r]instanceof s)return i.children[r]=n,n;for(r=a=0,c=(h=i.children).length;a<c;r=++a)if(h[r].isRoot)return i.children.splice(r,0,n),n;return i.children.push(n),n},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.ele=function(t,e,i){return this.element(t,e,i)},t.prototype.nod=function(t,e,i){return this.node(t,e,i)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,i){return this.declaration(t,e,i)},t.prototype.dtd=function(t,e){return this.doctype(t,e)},t.prototype.e=function(t,e,i){return this.element(t,e,i)},t.prototype.n=function(t,e,i){return this.node(t,e,i)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t}()}).call(this)},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(63),s=i(5),o=i(0),a=i(6),l=i(28),c=i(19),u=i(23),h=i(32);e.default={getObjectsFromMetaData:function(){const t=s.join(o.workspace.rootPath,"src","profiles"),e=a.readdirSync(t);if(0===e.length)throw Error("No Profile definition file was found in folder "+t);return this.generateProfilesDefinitions(e,t)},generateProfilesDefinitions:function(t,e){return t.map(t=>new r.default(t,e))},readProfileDefinitionFile:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=s.join(t.folder.toString(),t.fileName),r=a.readFileSync(n,{encoding:"utf-8"}),o=new l.Parser({explicitArray:!1,valueProcessors:[c.parseBooleans]});try{const t=yield new Promise((t,e)=>{o.parseString(r,(i,n)=>{i?e(i):t(n)})});e(t)}catch(t){i(t)}})))}))},writeProfileDefinitionFile:function(t,e){const i=new l.Builder({xmldec:{standalone:void 0,encoding:"UTF-8",version:"1.0"}}).buildObject(e);let n=i.substr(0,130)+i.substr(130,i.length-130).replace(/"/g,"&quot;").replace(/'/g,"&apos;");a.writeFileSync(t.toString(),n,"utf8")},updateProfilesVisibilityForField:function(t,e,i){return n(this,void 0,void 0,(function*(){try{t.forEach(t=>n(this,void 0,void 0,(function*(){const n=yield this.readProfileDefinitionFile(t),r=n.Profile.fieldPermissions.reduce((t,e)=>(t[e.field]=e,t),{});e.forEach(t=>{t.fields.forEach(e=>{let s=`${t.sObject.label}.${e.fullName}`;console.log(s),r[s]?(r[s].readable=i!==u.default.none,r[s].editable=i===u.default.edit):n.Profile.fieldPermissions.push({readable:i!==u.default.none,field:`${t.sObject.label}.${e.fullName}`,editable:i===u.default.edit})})}),n.Profile.fieldPermissions.sort((t,e)=>h.default.sortItemsByField(t,e,"field")),this.writeProfileDefinitionFile(s.join(t.folder.toString(),t.fileName),n)})))}catch(e){throw Error(`Error updating field-level security for profiles: ${t.map(t=>t.label)}`)}}))},updateProfilesApexClassesAccess:function(t,e){return n(this,void 0,void 0,(function*(){try{const i=yield this.readProfileDefinitionFile(t);i.Profile.classAccesses.forEach(t=>{t.enabled=e.includes(t.apexClass)}),i.Profile.classAccesses.sort((t,e)=>h.default.sortItemsByField(t,e,"apexClass")),this.writeProfileDefinitionFile(s.join(t.folder.toString(),t.fileName),i)}catch(e){throw Error(`Error updating Apex Class Access for profile: ${t.label}`)}}))},updateProfilesApexPagesAccess:function(t,e){return n(this,void 0,void 0,(function*(){try{const i=yield this.readProfileDefinitionFile(t);i.Profile.pageAccesses.forEach(t=>{t.enabled=e.includes(t.apexPage)}),i.Profile.pageAccesses.sort((t,e)=>h.default.sortItemsByField(t,e,"apexPage")),this.writeProfileDefinitionFile(s.join(t.folder.toString(),t.fileName),i)}catch(e){throw Error(`Error updating Visualforce Page Access for profile: ${t.label}`)}}))},updateProfilesUserPermissions:function(t,e){return n(this,void 0,void 0,(function*(){try{const i=yield this.readProfileDefinitionFile(t),n=i.Profile.userPermissions,r=n.reduce((t,e)=>(t[e.name]=e,t),{});n.forEach(t=>{t.enabled=!1}),e.forEach(t=>{r[t]?r[t].enabled=!0:n.push({enabled:!0,name:t})}),n.sort((t,e)=>h.default.sortItemsByField(t,e,"name")),i.Profile.userPermissions=n,this.writeProfileDefinitionFile(s.join(t.folder.toString(),t.fileName),i)}catch(e){throw Error(`Error updating Visualforce Page Access for profile: ${t.label}`)}}))},updateProfileSinglePermission:function(t,e,i){return n(this,void 0,void 0,(function*(){try{const n=yield this.readProfileDefinitionFile(t),r=n.Profile.userPermissions;let o=r.find(t=>t.name===e);o?o.enabled=i:void 0===o&&i&&(o={enabled:!0,name:e},r.push(o)),r.sort((t,e)=>h.default.sortItemsByField(t,e,"name")),n.Profile.userPermissions=r,this.writeProfileDefinitionFile(s.join(t.folder.toString(),t.fileName),n)}catch(e){throw Error(`Error updating Visualforce Page Access for profile: ${t.label}`)}}))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(47),r=i(48),s=i(49);e.default={fields:n.default,profiles:r.default,sObjects:s.default}},function(t,e){(function(){var e,i,n,r,s,o,a=[].slice,l={}.hasOwnProperty;e=function(){var t,e,i,n,s,o;if(o=arguments[0],s=2<=arguments.length?a.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(t=0,i=s.length;t<i;t++)if(null!=(n=s[t]))for(e in n)l.call(n,e)&&(o[e]=n[e]);return o},r=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},i=function(t){return r(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},n=function(t){var e;if(i(t))return!t.length;for(e in t)if(l.call(t,e))return!1;return!0},o=function(t){var e,i;return s(t)&&(i=Object.getPrototypeOf(t))&&(e=i.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},t.exports.assign=e,t.exports.isFunction=r,t.exports.isObject=s,t.exports.isArray=i,t.exports.isEmpty=n,t.exports.isPlainObject=o}).call(this)},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e,i){(function(){var e,n,r,s,o,a={}.hasOwnProperty;o=i(4),s=o.isObject,r=o.isFunction,n=i(1),e=i(29),t.exports=function(t){function i(t,e,n){if(i.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=n&&this.attribute(n),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return function(t,e){for(var i in e)a.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,t),i.prototype.clone=function(){var t,e,i,n;for(e in(i=Object.create(this)).isRoot&&(i.documentObject=null),i.attributes={},n=this.attributes)a.call(n,e)&&(t=n[e],i.attributes[e]=t.clone());return i.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=i,i.children.push(e)})),i},i.prototype.attribute=function(t,i){var n,o;if(null!=t&&(t=t.valueOf()),s(t))for(n in t)a.call(t,n)&&(o=t[n],this.attribute(n,o));else r(i)&&(i=i.apply()),this.options.skipNullAttributes&&null==i||(this.attributes[t]=new e(this,t,i));return this},i.prototype.removeAttribute=function(t){var e,i,n;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(i=0,n=t.length;i<n;i++)e=t[i],delete this.attributes[e];else delete this.attributes[t];return this},i.prototype.toString=function(t){return this.options.writer.set(t).element(this)},i.prototype.att=function(t,e){return this.attribute(t,e)},i.prototype.a=function(t,e){return this.attribute(t,e)},i}(n)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(i)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing comment text");this.text=this.stringify.comment(i)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n,r={}.hasOwnProperty;n=i(4).isObject,e=i(1),t.exports=function(t){function e(t,i,r,s){var o;e.__super__.constructor.call(this,t),n(i)&&(i=(o=i).version,r=o.encoding,s=o.standalone),i||(i="1.0"),this.version=this.stringify.xmlVersion(i),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n,r,s,o,a,l={}.hasOwnProperty;a=i(4).isObject,o=i(1),e=i(12),r=i(13),n=i(14),s=i(15),t.exports=function(t){function i(t,e,n){var r,s;i.__super__.constructor.call(this,t),this.documentObject=t,a(e)&&(e=(r=e).pubID,n=r.sysID),null==n&&(n=(s=[e,n])[0],e=s[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,t),i.prototype.element=function(t,e){var i;return i=new n(this,t,e),this.children.push(i),this},i.prototype.attList=function(t,i,n,r,s){var o;return o=new e(this,t,i,n,r,s),this.children.push(o),this},i.prototype.entity=function(t,e){var i;return i=new r(this,!1,t,e),this.children.push(i),this},i.prototype.pEntity=function(t,e){var i;return i=new r(this,!0,t,e),this.children.push(i),this},i.prototype.notation=function(t,e){var i;return i=new s(this,t,e),this.children.push(i),this},i.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},i.prototype.ele=function(t,e){return this.element(t,e)},i.prototype.att=function(t,e,i,n,r){return this.attList(t,e,i,n,r)},i.prototype.ent=function(t,e){return this.entity(t,e)},i.prototype.pent=function(t,e){return this.pEntity(t,e)},i.prototype.not=function(t,e){return this.notation(t,e)},i.prototype.up=function(){return this.root()||this.documentObject},i}(o)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i,n,r,s,o){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!s)throw new Error("Missing DTD attribute default");if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(i),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=s}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n,r={}.hasOwnProperty;n=i(4).isObject,e=i(1),t.exports=function(t){function e(t,i,r,s){if(e.__super__.constructor.call(this,t),null==r)throw new Error("Missing entity name");if(null==s)throw new Error("Missing entity value");if(this.pe=!!i,this.name=this.stringify.eleName(r),n(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity");if(null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(s)}return function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i,n){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(i),this.value=this.stringify.dtdElementValue(n)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i,n){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(i),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing raw text");this.value=this.stringify.raw(i)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing element text");this.value=this.stringify.eleText(i)}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).text(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n={}.hasOwnProperty;e=i(1),t.exports=function(t){function e(t,i,n){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(i),n&&(this.value=this.stringify.insValue(n))}return function(t,e){for(var i in e)n.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},e}(e)}).call(this)},function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SObject=0]="SObject",t[t.CustomMetadata=1]="CustomMetadata"}(e.SObjectType||(e.SObjectType={}))},function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},function(t,e,i){(function(){var e,n,r,s,o,a,l,c,u,h,d,f,p,y={}.hasOwnProperty;l=i(10),c=i(11),e=i(8),n=i(9),u=i(7),d=i(16),f=i(17),h=i(18),r=i(12),s=i(14),o=i(13),a=i(15),p=i(31),t.exports=function(t){function i(t){i.__super__.constructor.call(this,t)}return function(t,e){for(var i in e)y.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,t),i.prototype.document=function(t){var e,i,r,s,o;for(this.textispresent=!1,s="",i=0,r=(o=t.children).length;i<r;i++)e=o[i],s+=function(){switch(!1){case!(e instanceof l):return this.declaration(e);case!(e instanceof c):return this.docType(e);case!(e instanceof n):return this.comment(e);case!(e instanceof h):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&s.slice(-this.newline.length)===this.newline&&(s=s.slice(0,-this.newline.length)),s},i.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},i.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},i.prototype.comment=function(t,e){return this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.newline},i.prototype.declaration=function(t,e){var i;return i=this.space(e),i+='<?xml version="'+t.version+'"',null!=t.encoding&&(i+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(i+=' standalone="'+t.standalone+'"'),i+=this.spacebeforeslash+"?>",i+=this.newline},i.prototype.docType=function(t,i){var l,c,u,d,f;if(i||(i=0),d=this.space(i),d+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?d+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(d+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(d+=" [",d+=this.newline,c=0,u=(f=t.children).length;c<u;c++)l=f[c],d+=function(){switch(!1){case!(l instanceof r):return this.dtdAttList(l,i+1);case!(l instanceof s):return this.dtdElement(l,i+1);case!(l instanceof o):return this.dtdEntity(l,i+1);case!(l instanceof a):return this.dtdNotation(l,i+1);case!(l instanceof e):return this.cdata(l,i+1);case!(l instanceof n):return this.comment(l,i+1);case!(l instanceof h):return this.processingInstruction(l,i+1);default:throw new Error("Unknown DTD node type: "+l.constructor.name)}}.call(this);d+="]"}return d+=this.spacebeforeslash+">",d+=this.newline},i.prototype.element=function(t,i){var r,s,o,a,l,c,p,m,g,w,b,v,P;for(p in i||(i=0),P=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m="",m+=(v=this.space(i))+"<"+t.name,g=t.attributes)y.call(g,p)&&(r=g[p],m+=this.attribute(r));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?m+="></"+t.name+">"+this.newline:m+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)m+=">",m+=t.children[0].value,m+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes)for(o=0,l=(w=t.children).length;o<l;o++)if(null!=(s=w[o]).value){this.textispresent++,P=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,v=this.space(i)),m+=">"+this.newline,a=0,c=(b=t.children).length;a<c;a++)s=b[a],m+=function(){switch(!1){case!(s instanceof e):return this.cdata(s,i+1);case!(s instanceof n):return this.comment(s,i+1);case!(s instanceof u):return this.element(s,i+1);case!(s instanceof d):return this.raw(s,i+1);case!(s instanceof f):return this.text(s,i+1);case!(s instanceof h):return this.processingInstruction(s,i+1);default:throw new Error("Unknown XML node type: "+s.constructor.name)}}.call(this);P&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),m+=v+"</"+t.name+">"+this.newline}return m},i.prototype.processingInstruction=function(t,e){var i;return i=this.space(e)+"<?"+t.target,t.value&&(i+=" "+t.value),i+=this.spacebeforeslash+"?>"+this.newline},i.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},i.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},i.prototype.dtdAttList=function(t,e){var i;return i=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(i+=" "+t.defaultValueType),t.defaultValue&&(i+=' "'+t.defaultValue+'"'),i+=this.spacebeforeslash+">"+this.newline},i.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},i.prototype.dtdEntity=function(t,e){var i;return i=this.space(e)+"<!ENTITY",t.pe&&(i+=" %"),i+=" "+t.name,t.value?i+=' "'+t.value+'"':(t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.nData&&(i+=" NDATA "+t.nData)),i+=this.spacebeforeslash+">"+this.newline},i.prototype.dtdNotation=function(t,e){var i;return i=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?i+=' PUBLIC "'+t.pubID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),i+=this.spacebeforeslash+">"+this.newline},i.prototype.openNode=function(t,e){var i,n,r,s;if(e||(e=0),t instanceof u){for(n in r=this.space(e)+"<"+t.name,s=t.attributes)y.call(s,n)&&(i=s[n],r+=this.attribute(i));return r+=(t.children?">":"/>")+this.newline}return r=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=(t.children?" [":">")+this.newline},i.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof u):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof c):return this.space(e)+"]>"+this.newline}},i}(p)}).call(this)},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.none=0]="none",t[t.read=1]="read",t[t.edit=2]="edit"}(n||(n={})),e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(64),r=i(5),s=i(0),o=i(6);class a{constructor(){this.getCfgPath=()=>r.join(s.workspace.rootPath,".swift-sfdc.json"),this._currentConfig=void 0,this.init()}static getInstance(){return void 0===this.instance&&(this.instance=new a),this.instance}getConfig(){return this._currentConfig}readConfig(){if(s.workspace.rootPath&&o.existsSync(this.getCfgPath())){const t=o.readFileSync(this.getCfgPath(),"utf8");return JSON.parse(t)}}storeConfig(t){try{return console.log("Storing configuration.."),o.writeFileSync(this.getCfgPath(),JSON.stringify(t)),!0}catch(t){return!1}}init(){if(console.log("Initializing configuration.."),void 0===this._currentConfig){let t=this.readConfig();void 0===t&&(console.log("Configuration not found, generating a new one"),t=new n.default);const e={get:(t,e)=>t[e],set:(t,e,i)=>(t[e]=i,a.getInstance().storeConfig(t))};this._currentConfig=new Proxy(t,e),this.storeConfig(this._currentConfig)}}}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n){this.fullName=t,this.externalId=i,this.label=e,this.type="Date",this.required=n}}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ActivateContract="ActivateContract",t.ActivateOrder="ActivateOrder",t.ActivitiesAccess="ActivitiesAccess",t.AddDirectMessageMembers="AddDirectMessageMembers",t.ApexRestServices="ApexRestServices",t.ApiEnabled="ApiEnabled",t.ApproveContract="ApproveContract",t.AssignPermissionSets="AssignPermissionSets",t.AssignTopics="AssignTopics",t.AuthorApex="AuthorApex",t.BulkApiHardDelete="BulkApiHardDelete",t.BulkMacrosAllowed="BulkMacrosAllowed",t.CanInsertFeedSystemFields="CanInsertFeedSystemFields",t.CanUseNewDashboardBuilder="CanUseNewDashboardBuilder",t.CanVerifyComment="CanVerifyComment",t.ChangeDashboardColors="ChangeDashboardColors",t.ChatterEditOwnPost="ChatterEditOwnPost",t.ChatterEditOwnRecordPost="ChatterEditOwnRecordPost",t.ChatterFileLink="ChatterFileLink",t.ChatterInternalUser="ChatterInternalUser",t.ChatterInviteExternalUsers="ChatterInviteExternalUsers",t.ChatterOwnGroups="ChatterOwnGroups",t.ConnectOrgToEnvironmentHub="ConnectOrgToEnvironmentHub",t.ContentAdministrator="ContentAdministrator",t.ContentWorkspaces="ContentWorkspaces",t.ConvertLeads="ConvertLeads",t.CreateAuditFields="CreateAuditFields",t.CreateCustomizeDashboards="CreateCustomizeDashboards",t.CreateCustomizeFilters="CreateCustomizeFilters",t.CreateCustomizeReports="CreateCustomizeReports",t.CreateDashboardFolders="CreateDashboardFolders",t.CreatePackaging="CreatePackaging",t.CreateReportFolders="CreateReportFolders",t.CreateTopics="CreateTopics",t.CreateWorkBadgeDefinition="CreateWorkBadgeDefinition",t.CreateWorkspaces="CreateWorkspaces",t.CustomizeApplication="CustomizeApplication",t.DataExport="DataExport",t.DelegatedTwoFactor="DelegatedTwoFactor",t.DeleteActivatedContract="DeleteActivatedContract",t.DeleteTopics="DeleteTopics",t.DistributeFromPersWksp="DistributeFromPersWksp",t.EditActivatedOrders="EditActivatedOrders",t.EditBrandTemplates="EditBrandTemplates",t.EditCaseComments="EditCaseComments",t.EditEvent="EditEvent",t.EditHtmlTemplates="EditHtmlTemplates",t.EditMyDashboards="EditMyDashboards",t.EditMyReports="EditMyReports",t.EditOppLineItemUnitPrice="EditOppLineItemUnitPrice",t.EditPublicDocuments="EditPublicDocuments",t.EditPublicFilters="EditPublicFilters",t.EditPublicTemplates="EditPublicTemplates",t.EditReadonlyFields="EditReadonlyFields",t.EditTask="EditTask",t.EditTopics="EditTopics",t.EmailMass="EmailMass",t.EmailSingle="EmailSingle",t.EnableNotifications="EnableNotifications",t.ExportReport="ExportReport",t.GiveRecognitionBadge="GiveRecognitionBadge",t.ImportCustomObjects="ImportCustomObjects",t.ImportLeads="ImportLeads",t.ImportPersonal="ImportPersonal",t.InboundMigrationToolsUser="InboundMigrationToolsUser",t.InstallPackaging="InstallPackaging",t.LightningConsoleAllowedForUser="LightningConsoleAllowedForUser",t.LightningExperienceUser="LightningExperienceUser",t.ListEmailSend="ListEmailSend",t.ManageAnalyticSnapshots="ManageAnalyticSnapshots",t.ManageAuthProviders="ManageAuthProviders",t.ManageBusinessHourHolidays="ManageBusinessHourHolidays",t.ManageCallCenters="ManageCallCenters",t.ManageCases="ManageCases",t.ManageCategories="ManageCategories",t.ManageCertificates="ManageCertificates",t.ManageContentPermissions="ManageContentPermissions",t.ManageContentProperties="ManageContentProperties",t.ManageContentTypes="ManageContentTypes",t.ManageCssUsers="ManageCssUsers",t.ManageCustomPermissions="ManageCustomPermissions",t.ManageCustomReportTypes="ManageCustomReportTypes",t.ManageDashbdsInPubFolders="ManageDashbdsInPubFolders",t.ManageDataCategories="ManageDataCategories",t.ManageDataIntegrations="ManageDataIntegrations",t.ManageDynamicDashboards="ManageDynamicDashboards",t.ManageEmailClientConfig="ManageEmailClientConfig",t.ManageExchangeConfig="ManageExchangeConfig",t.ManageHealthCheck="ManageHealthCheck",t.ManageInteraction="ManageInteraction",t.ManageInternalUsers="ManageInternalUsers",t.ManageIpAddresses="ManageIpAddresses",t.ManageLeads="ManageLeads",t.ManageLoginAccessPolicies="ManageLoginAccessPolicies",t.ManageMobile="ManageMobile",t.ManageNetworks="ManageNetworks",t.ManagePackageLicenses="ManagePackageLicenses",t.ManagePartners="ManagePartners",t.ManagePasswordPolicies="ManagePasswordPolicies",t.ManageProfilesPermissionsets="ManageProfilesPermissionsets",t.ManagePvtRptsAndDashbds="ManagePvtRptsAndDashbds",t.ManageQuotas="ManageQuotas",t.ManageRemoteAccess="ManageRemoteAccess",t.ManageReportsInPubFolders="ManageReportsInPubFolders",t.ManageRoles="ManageRoles",t.ManageSharing="ManageSharing",t.ManageSolutions="ManageSolutions",t.ManageSynonyms="ManageSynonyms",t.ManageTranslation="ManageTranslation",t.ManageUnlistedGroups="ManageUnlistedGroups",t.ManageUsers="ManageUsers",t.MergeTopics="MergeTopics",t.ModerateChatter="ModerateChatter",t.ModifyAllData="ModifyAllData",t.ModifyMetadata="ModifyMetadata",t.NewReportBuilder="NewReportBuilder",t.OutboundMigrationToolsUser="OutboundMigrationToolsUser",t.OverrideForecasts="OverrideForecasts",t.Packaging2="Packaging2",t.PublishPackaging="PublishPackaging",t.RemoveDirectMessageMembers="RemoveDirectMessageMembers",t.ResetPasswords="ResetPasswords",t.RunFlow="RunFlow",t.RunReports="RunReports",t.ScheduleJob="ScheduleJob",t.ScheduleReports="ScheduleReports",t.SelectFilesFromSalesforce="SelectFilesFromSalesforce",t.SendSitRequests="SendSitRequests",t.ShowCompanyNameAsUserBadge="ShowCompanyNameAsUserBadge",t.SolutionImport="SolutionImport",t.SubmitMacrosAllowed="SubmitMacrosAllowed",t.SubscribeDashboardToOtherUsers="SubscribeDashboardToOtherUsers",t.SubscribeReportToOtherUsers="SubscribeReportToOtherUsers",t.SubscribeReportsRunAsUser="SubscribeReportsRunAsUser",t.SubscribeToLightningDashboards="SubscribeToLightningDashboards",t.SubscribeToLightningReports="SubscribeToLightningReports",t.TransactionalEmailSend="TransactionalEmailSend",t.TransferAnyCase="TransferAnyCase",t.TransferAnyEntity="TransferAnyEntity",t.TransferAnyLead="TransferAnyLead",t.UpdateWithInactiveOwner="UpdateWithInactiveOwner",t.UseTeamReassignWizards="UseTeamReassignWizards",t.UseWebLink="UseWebLink",t.ViewAllData="ViewAllData",t.ViewAllForecasts="ViewAllForecasts",t.ViewAllUsers="ViewAllUsers",t.ViewDataAssessment="ViewDataAssessment",t.ViewDataCategories="ViewDataCategories",t.ViewEventLogFiles="ViewEventLogFiles",t.ViewHealthCheck="ViewHealthCheck",t.ViewHelpLink="ViewHelpLink",t.ViewMyTeamsDashboards="ViewMyTeamsDashboards",t.ViewPublicDashboards="ViewPublicDashboards",t.ViewPublicReports="ViewPublicReports",t.ViewRoles="ViewRoles",t.ViewSetup="ViewSetup"}(n||(n={})),e.default=n},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(50),s=i(5),o=i(0),a=i(6),l=i(28),c=i(19);e.default={getObjectsFromMetaData:function(){const t=s.join(o.workspace.rootPath,"src","objects"),e=a.readdirSync(t);if(0===e.length)throw Error("No SObject definition file was found in folder "+t);return this.generateSObjectDefinitions(e,t)},generateSObjectDefinitions:function(t,e){return t.map(t=>new r.default(t,e))},readSObjectDefinitionFile:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=s.join(t.folder.toString(),t.fileName),r=a.readFileSync(n,{encoding:"utf-8"}),o=new l.Parser({explicitArray:!1,valueProcessors:[c.parseBooleans]});try{const t=yield new Promise((t,e)=>{o.parseString(r,(i,n)=>{i?e(i):t(n)})});e(t)}catch(t){i(t)}})))}))},writeSObjectDefinitionFile:function(t,e){const i=new l.Builder({xmldec:{standalone:void 0,encoding:"UTF-8",version:"1.0"}}).buildObject(e);let n=i.substr(0,130)+i.substr(130,i.length-130).replace(/"/g,"&quot;").replace(/'/g,"&apos;");a.writeFileSync(t.toString(),n,"utf8")}}},function(t,e,i){(function(){"use strict";var t,n,r,s,o={}.hasOwnProperty;n=i(21),t=i(51),r=i(56),s=i(19),e.defaults=n.defaults,e.processors=s,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var i in e)o.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=r.Parser,e.parseString=r.parseString}).call(this)},function(t,e){(function(){t.exports=function(){function t(t,e,i){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==i)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(i)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},function(t,e){(function(){var e={}.hasOwnProperty;t.exports=function(){function t(t){var i,n,r,s,o;for(r in this.assertLegalChar=(i=this.assertLegalChar,n=this,function(){return i.apply(n,arguments)}),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,s=t.stringify||{})e.call(s,r)&&(o=s[r],this[r]=o)}return t.prototype.eleName=function(t){return t=""+t||"",this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){return t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},t.prototype.comment=function(t){if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return""+t||""},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e;if(e=t.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+t+" at index "+e.index);return t},t.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},function(t,e){(function(){var e={}.hasOwnProperty;t.exports=function(){function t(t){var i,n,r,s,o,a,l,c,u;for(i in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(n=t.allowEmpty)&&n,this.pretty?(this.indent=null!=(r=t.indent)?r:"  ",this.newline=null!=(s=t.newline)?s:"\n",this.offset=null!=(o=t.offset)?o:0,this.dontprettytextnodes=null!=(a=t.dontprettytextnodes)?a:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(l=t.spacebeforeslash)?l:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,c=t.writer||{})e.call(c,i)&&(u=c[i],this[i]=u)}return t.prototype.set=function(t){var i,n,r;for(i in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,n=t.writer||{})e.call(n,i)&&(r=n[i],this[i]=r);return this},t.prototype.space=function(t){var e;return this.pretty&&(e=(t||0)+this.offset+1)>0?new Array(e).join(this.indent):""},t}()}).call(this)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={sortItemsByField:(t,e,i)=>t[i]>e[i]?1:t[i]<e[i]?-1:0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),r=i(34),s=i(24);e.activate=function(t){console.log("Managing configuration..."),s.default.getInstance(),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.createField",r.default.createField)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureDefaultFieldsProfiles",r.default.configureDefaultFieldsProfiles)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureProfilesApexClasses",r.default.configureProfilesApexClasses)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureProfilesApexPages",r.default.configureProfilesApexPages)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureProfilesUserPermissions",r.default.configureProfilesUserPermissions)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureCrossProfileUserPermission",r.default.configureCrossProfileUserPermission)),t.subscriptions.push(n.commands.registerCommand("SwiftSfdc.configureProfilesFLS",r.default.configureProfilesFLS)),n.commands.executeCommand("setContext","swift-sfdc-active",!0),console.log('Congratulations, your extension "swift-sfdc" is now active!')},e.deactivate=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(35),r=i(65),s=i(66),o=i(69),a=i(72),l=i(73),c=i(74);e.default={createField:n.default,configureDefaultFieldsProfiles:r.default,configureProfilesApexClasses:s.default,configureProfilesApexPages:o.default,configureProfilesUserPermissions:a.default,configureCrossProfileUserPermission:l.default,configureProfilesFLS:c.default}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(5),o=i(36),a=i(37),l=i(27),c=i(2),u=i(24),h=i(23),d=i(32),f=i(3),p=i(20);function y(t,e){return n(this,void 0,void 0,(function*(){let i=t.map(t=>t.fullName);return new Promise((t,s)=>n(this,void 0,void 0,(function*(){try{const s=yield function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick(Object.keys(o.default).map(t=>({label:t,value:t})),{ignoreFocusOut:!0,placeHolder:"Select a Field Type"});void 0!==i?t(i.value):e("Field Creation Aborted")})))}))}();let l=yield a.default[s](i,e);t(l)}catch(t){s(t)}})))}))}e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=yield l.default.getObjectsFromMetaData(),e=yield f.default.sObjects.pickOne(t),i=yield l.default.readSObjectDefinitionFile(e),n=yield y(i.CustomObject.fields,t.map(t=>t.label));i.CustomObject.fields.push(n),i.CustomObject.fields.sort((t,e)=>d.default.sortItemsByField(t,e,"fullName")),l.default.writeSObjectDefinitionFile(s.join(e.folder.toString(),e.fileName),i),e.sObjectType===p.SObjectType.SObject&&c.default.updateProfilesVisibilityForField(u.default.getInstance().getConfig().defaultProfiles||[],[{sObject:e,fields:[n]}],h.default.edit),r.window.showInformationMessage(`Field '${n.fullName}' was created on SObject ${e.label} and enabled as editable for profiles: ${(u.default.getInstance().getConfig().defaultProfiles||[]).map(t=>t.label)}`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Checkbox="Checkbox",t.Number="Number",t.Email="Email",t.Text="Text",t.Lookup="Lookup",t.LongTextArea="LongTextArea",t.Date="Date",t.DateTime="DateTime",t.TextArea="TextArea",t.Phone="Phone"}(n||(n={})),e.default=n},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(38),s=i(3);e.default={Checkbox:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=yield s.default.fields.defaultValue([{label:"False",value:!1},{label:"True",value:!0}]);e(new r.Checkbox(n,i,o,a))}catch(t){i("Field Creation Aborted")}})))}))},Text:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.stringLength(1,255,255),a=yield s.default.fields.isRequired(),l=yield s.default.fields.isExternalId(),c=yield s.default.fields.isUnique();e(new r.Text(n,i,l,a,o,c))}catch(t){i("Field Creation Aborted")}})))}))},Email:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=yield s.default.fields.isExternalId(),l=yield s.default.fields.isUnique();e(new r.Email(n,i,a,o,l))}catch(t){i("Field Creation Aborted")}})))}))},Date:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=yield s.default.fields.isExternalId();e(new r.Date(n,i,a,o))}catch(t){i("Field Creation Aborted")}})))}))},DateTime:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=yield s.default.fields.isExternalId();e(new r.DateTime(n,i,a,o))}catch(t){i("Field Creation Aborted")}})))}))},Phone:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=yield s.default.fields.isExternalId();e(new r.Phone(n,i,a,o))}catch(t){i("Field Creation Aborted")}})))}))},TextArea:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.isRequired(),a=!1;e(new r.TextArea(n,i,a,o))}catch(t){i("Field Creation Aborted")}})))}))},LongTextArea:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),o=yield s.default.fields.stringLength(256,131072,32768),a=yield s.default.fields.isRequired(),l=!1;e(new r.LongTextArea(n,i,l,a,o))}catch(t){i("Field Creation Aborted")}})))}))},Number:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){try{let i=yield s.default.fields.label(),n=yield s.default.fields.apiName(i,t),[o,a]=yield s.default.fields.precisionAndScale(),l=yield s.default.fields.isRequired(),c=yield s.default.fields.isExternalId(),u=yield s.default.fields.isUnique();e(new r.Number(n,i,c,l,u,o,a))}catch(t){i("Field Creation Aborted")}})))}))},Lookup:function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((i,o)=>n(this,void 0,void 0,(function*(){try{let n=yield s.default.fields.label(),o=yield s.default.fields.apiName(n,t),a=yield s.default.fields.isRequired(),l=yield s.default.fields.lookupTarget(e),c=yield s.default.fields.relationshipLabel(),u=yield s.default.fields.relationshipApiName(c);i(new r.Lookup(o,n,a,l,c,u))}catch(t){o("Field Creation Aborted")}})))}))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(39);e.Text=n.default;const r=i(40);e.Checkbox=r.default;const s=i(41);e.Email=s.default;const o=i(25);e.Date=o.default;const a=i(25);e.DateTime=a.default;const l=i(42);e.Phone=l.default;const c=i(43);e.TextArea=c.default;const u=i(44);e.LongTextArea=u.default;const h=i(45);e.Number=h.default;const d=i(46);e.Lookup=d.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n,r,s){this.fullName=t,this.externalId=i,this.externalId&&(this.caseSensitive=!0),this.label=e,this.type="Text",this.required=n,this.length=r,this.unique=s}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n){this.fullName=t,this.externalId=!1,this.label=e,this.type="Checkbox",this.required=i,this.defaultValue=n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n,r){this.fullName=t,this.externalId=i,this.externalId&&(this.caseSensitive=!1),this.label=e,this.type="Email",this.required=n,this.unique=r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n){this.fullName=t,this.externalId=i,this.externalId&&(this.caseSensitive=!0),this.label=e,this.type="Phone",this.required=n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n){this.fullName=t,this.externalId=i,this.label=e,this.type="TextArea",this.required=n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n,r){this.fullName=t,this.externalId=i,this.label=e,this.type="LongTextArea",this.required=n,this.length=r,this.visibleLines="3"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n,r,s,o){this.fullName=t,this.externalId=i,this.label=e,this.type="Number",this.required=n,this.unique=r,this.precision=s,this.scale=o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,n,r,s){this.fullName=t,this.externalId=!1,this.label=e,this.type="Lookup",this.required=i,this.deleteConstraint="setNull",this.referenceTo=n,this.relationshipLabel=r,this.relationshipName=s}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0);e.default={defaultValue:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Whats the default value of the field?"});n?e(n.value):i("Field Creation Aborted")})))}))},isUnique:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick([{label:"False",value:!1},{label:"True",value:!0}],{ignoreFocusOut:!0,placeHolder:"Is the field Unique?"});i?t(i.value):e("Field Creation Aborted")})))}))},isExternalId:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick([{label:"False",value:!1},{label:"True",value:!0}],{ignoreFocusOut:!0,placeHolder:"Is the field an External ID?"});i?t(i.value):e("Field Creation Aborted")})))}))},stringLength:function(t,e,i){return n(this,void 0,void 0,(function*(){return new Promise((s,o)=>n(this,void 0,void 0,(function*(){const n=new RegExp(`^[0-9]{${t.toString().length},${e.toString().length}}$`),a=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Field Maximum Length",value:i.toString(),valueSelection:[0,i.toString().length],prompt:`Insert a number between ${t} and ${e}`,validateInput:i=>{if(!n.test(i)||Number(i)>e||Number(i)<t)return`Only a number between ${t} and ${e} is allowed.`}});a?s(a):o("Field Creation Aborted")})))}))},apiName:function(t,e){return n(this,void 0,void 0,(function*(){const i=t.normalize("NFD").replace(/[\u0300-\u036f]|\s*/g,"")+"__c";return new Promise((t,s)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Field ApiName",value:i,valueSelection:[0,i.length-3],prompt:"Only normal letters and underscores are allowed. Must end with '__c'",validateInput:t=>/^[[a-zA-Z0-9_]{3,40}(?<!_)__c$/.test(t)?-1!==e.indexOf(t)?"Another Field with the same Api Name already exists on the object.":void 0:"Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores ('_') and terminate with '__c'."});n?t(n):s("Field Creation Aborted")})))}))},isRequired:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick([{label:"False",value:!1},{label:"True",value:!0}],{ignoreFocusOut:!0,placeHolder:"Is the field Required?"});i?t(i.value):e("Field Creation Aborted")})))}))},label:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Field Label",validateInput:t=>t.length>40||t.length<1?"Field Labels cannot exceed 40 characters":void 0});i?t(i):e("Field Creation Aborted")})))}))},precisionAndScale:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=new RegExp("^[0-9]{1,2},[0-9]{1,2}$"),n=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Field Precision and Scale, separated by comma",value:"18,0",valueSelection:[0,2],prompt:"Format is: [Number of digits to the left of the decimal point],[Number of digits to the right of the decimal point]",validateInput:t=>{let[e,n]=t.split(",");if(!i.test(t)||Number(e)+Number(n)>18)return"Up to 18 digits are allowed, divided amongst digits to the left of the decimal point and digits to its right, in the format [digits to the left],[digits to the right]. i.e: 16,2"}});if(n){let[e,i]=n.split(",");t([Number(e),Number(i)])}else e("Field Creation Aborted")})))}))},lookupTarget:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(t.map(t=>({label:t,value:t})),{ignoreFocusOut:!0,placeHolder:"Relationship target SObject?"});n?e(n.value):i("Field Creation Aborted")})))}))},relationshipLabel:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Child Relationship Label",validateInput:t=>t.length>40||t.length<1?"Child Relationship Label cannot exceed 40 characters":void 0});i?t(i):e("Field Creation Aborted")})))}))},relationshipApiName:function(t){return n(this,void 0,void 0,(function*(){const e=t.normalize("NFD").replace(/[\u0300-\u036f]|\s*/g,"");return new Promise((t,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Insert Child Relationship Api Name",value:e,valueSelection:[0,e.length-1],prompt:"Only normal letters and underscores are allowed.",validateInput:t=>{if(!/^[[a-zA-Z0-9_]{3,40}(?<!_)$/.test(t))return"Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores ('_') and cannot exceed 40 characters"}});n?t(n):i("Field Creation Aborted")})))}))}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(26);e.default={pickOne:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Select the Profile you want to define Apex Class Access"});void 0!==n?e(n):i("Profiles Configuration Aborted")})))}))},pickMany:function(t,e=[]){return n(this,void 0,void 0,(function*(){let i=e||[];const s=t.map(t=>Object.assign({},t,{picked:i.includes(t.label)}));return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick(s,{ignoreFocusOut:!0,placeHolder:"Select all Profiles you want to add fields visibility after creation by default.",canPickMany:!0});void 0!==i?(i.forEach(t=>{delete t.picked}),t(i)):e("Profiles Configuration Aborted")})))}))},pickUserPermission:function(){return n(this,void 0,void 0,(function*(){return new Promise((t,e)=>n(this,void 0,void 0,(function*(){const i=yield r.window.showQuickPick(Object.keys(s.default),{ignoreFocusOut:!0,placeHolder:"Select the User Permission you want to check on all profiles"});void 0!==i?t(i):e("User Permission choice Aborted")})))}))}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0);e.default={pickOne:function(t){return n(this,void 0,void 0,(function*(){return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:"Select an SObject Type"});void 0!==n?e(n):i("SObject Selection Aborted")})))}))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(20);e.default=class{constructor(t,e){this.label=t.split(".")[0],this.fileName=t,this.folder=e,this.extension=t.split(".")[1],this.sObjectType=this.label.endsWith("__mdt")?n.SObjectType.CustomMetadata:n.SObjectType.SObject}}},function(t,e,i){(function(){"use strict";var t,n,r,s,o,a={}.hasOwnProperty;t=i(52),n=i(21).defaults,s=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},o=function(t){return"<![CDATA["+r(t)+"]]>"},r=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,i,r;for(e in this.options={},i=n[.2])a.call(i,e)&&(r=i[e],this.options[e]=r);for(e in t)a.call(t,e)&&(r=t[e],this.options[e]=r)}return e.prototype.buildObject=function(e){var i,r,l,c,u,h;return i=this.options.attrkey,r=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===n[.2].rootName?e=e[u=Object.keys(e)[0]]:u=this.options.rootName,h=this,l=function(t,e){var n,c,u,d,f,p;if("object"!=typeof e)h.options.cdata&&s(e)?t.raw(o(e)):t.txt(e);else if(Array.isArray(e)){for(d in e)if(a.call(e,d))for(f in c=e[d])u=c[f],t=l(t.ele(f),u).up()}else for(f in e)if(a.call(e,f))if(c=e[f],f===i){if("object"==typeof c)for(n in c)p=c[n],t=t.att(n,p)}else if(f===r)t=h.options.cdata&&s(c)?t.raw(o(c)):t.txt(c);else if(Array.isArray(c))for(d in c)a.call(c,d)&&(t="string"==typeof(u=c[d])?h.options.cdata&&s(u)?t.ele(f).raw(o(u)).up():t.ele(f,u).up():l(t.ele(f),u).up());else"object"==typeof c?t=l(t.ele(f),c).up():"string"==typeof c&&h.options.cdata&&s(c)?t=t.ele(f).raw(o(c)).up():(null==c&&(c=""),t=t.ele(f,c.toString()).up());return t},c=t.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(c,e).end(this.options.renderOpts)},e}()}).call(this)},function(t,e,i){(function(){var e,n,r,s,o,a,l;l=i(4),o=l.assign,a=l.isFunction,e=i(53),n=i(54),s=i(22),r=i(55),t.exports.create=function(t,i,n,r){var s,a;if(null==t)throw new Error("Root element needs a name");return r=o({},i,n,r),a=(s=new e(r)).element(t),r.headless||(s.declaration(r),null==r.pubID&&null==r.sysID||s.doctype(r)),a},t.exports.begin=function(t,i,r){var s;return a(t)&&(i=(s=[t,i])[0],r=s[1],t={}),i?new n(t,i,r):new e(t)},t.exports.stringWriter=function(t){return new s(t)},t.exports.streamWriter=function(t,e){return new r(t,e)}}).call(this)},function(t,e,i){(function(){var e,n,r,s,o={}.hasOwnProperty;s=i(4).isPlainObject,e=i(1),r=i(30),n=i(22),t.exports=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new n),this.options=t,this.stringify=new r(t),this.isDocument=!0}return function(t,e){for(var i in e)o.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.prototype.end=function(t){var e;return t?s(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}(e)}).call(this)},function(t,e,i){(function(){var e,n,r,s,o,a,l,c,u,h,d,f,p,y,m,g,w,b,v,P={}.hasOwnProperty;v=i(4),w=v.isObject,g=v.isFunction,b=v.isPlainObject,h=i(7),n=i(8),r=i(9),f=i(16),m=i(17),d=i(18),c=i(10),u=i(11),s=i(12),a=i(13),o=i(14),l=i(15),e=i(29),y=i(30),p=i(22),t.exports=function(){function t(t,e,i){var n;t||(t={}),t.writer?b(t.writer)&&(n=t.writer,t.writer=new p(n)):t.writer=new p(t),this.options=t,this.writer=t.writer,this.stringify=new y(t),this.onDataCallback=e||function(){},this.onEndCallback=i||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,i){var n;if(null==t)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),w(e)||(i=(n=[e,i])[0],e=n[1]),this.currentNode=new h(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=i&&this.text(i),this},t.prototype.element=function(t,e,i){return this.currentNode&&this.currentNode instanceof u?this.dtdElement.apply(this,arguments):this.node(t,e,i)},t.prototype.attribute=function(t,i){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),w(t))for(n in t)P.call(t,n)&&(r=t[n],this.attribute(n,r));else g(i)&&(i=i.apply()),this.options.skipNullAttributes&&null==i||(this.currentNode.attributes[t]=new e(this,t,i));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new m(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new n(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new f(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var i,n,r,s,o;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(i=0,s=t.length;i<s;i++)n=t[i],this.instruction(n);else if(w(t))for(n in t)P.call(t,n)&&(r=t[n],this.instruction(n,r));else g(e)&&(e=e.apply()),o=new d(this,t,e),this.onData(this.writer.processingInstruction(o,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,i){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new c(this,t,e,i),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,i){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new u(this,e,i),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var i;return this.openCurrent(),i=new o(this,t,e),this.onData(this.writer.dtdElement(i,this.currentLevel+1)),this},t.prototype.attList=function(t,e,i,n,r){var o;return this.openCurrent(),o=new s(this,t,e,i,n,r),this.onData(this.writer.dtdAttList(o,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var i;return this.openCurrent(),i=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(i,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var i;return this.openCurrent(),i=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(i,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var i;return this.openCurrent(),i=new l(this,t,e),this.onData(this.writer.dtdNotation(i,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof h&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,i){return this.node(t,e,i)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,i){return this.declaration(t,e,i)},t.prototype.dtd=function(t,e,i){return this.doctype(t,e,i)},t.prototype.e=function(t,e,i){return this.element(t,e,i)},t.prototype.n=function(t,e,i){return this.node(t,e,i)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof u?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},function(t,e,i){(function(){var e,n,r,s,o,a,l,c,u,h,d,f,p,y={}.hasOwnProperty;l=i(10),c=i(11),e=i(8),n=i(9),u=i(7),d=i(16),f=i(17),h=i(18),r=i(12),s=i(14),o=i(13),a=i(15),p=i(31),t.exports=function(t){function i(t,e){i.__super__.constructor.call(this,e),this.stream=t}return function(t,e){for(var i in e)y.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(i,t),i.prototype.document=function(t){var e,i,r,s,o,a,u,d;for(i=0,s=(a=t.children).length;i<s;i++)(e=a[i]).isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,d=[],r=0,o=(u=t.children).length;r<o;r++)switch(e=u[r],!1){case!(e instanceof l):d.push(this.declaration(e));break;case!(e instanceof c):d.push(this.docType(e));break;case!(e instanceof n):d.push(this.comment(e));break;case!(e instanceof h):d.push(this.processingInstruction(e));break;default:d.push(this.element(e))}return d},i.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},i.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},i.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"\x3c!-- "+t.text+" --\x3e"+this.endline(t))},i.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},i.prototype.docType=function(t,i){var l,c,u,d;if(i||(i=0),this.stream.write(this.space(i)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),c=0,u=(d=t.children).length;c<u;c++)switch(l=d[c],!1){case!(l instanceof r):this.dtdAttList(l,i+1);break;case!(l instanceof s):this.dtdElement(l,i+1);break;case!(l instanceof o):this.dtdEntity(l,i+1);break;case!(l instanceof a):this.dtdNotation(l,i+1);break;case!(l instanceof e):this.cdata(l,i+1);break;case!(l instanceof n):this.comment(l,i+1);break;case!(l instanceof h):this.processingInstruction(l,i+1);break;default:throw new Error("Unknown DTD node type: "+l.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},i.prototype.element=function(t,i){var r,s,o,a,l,c,p,m;for(l in i||(i=0),m=this.space(i),this.stream.write(m+"<"+t.name),c=t.attributes)y.call(c,l)&&(r=c[l],this.attribute(r));if(0===t.children.length||t.children.every((function(t){return""===t.value})))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),o=0,a=(p=t.children).length;o<a;o++)switch(s=p[o],!1){case!(s instanceof e):this.cdata(s,i+1);break;case!(s instanceof n):this.comment(s,i+1);break;case!(s instanceof u):this.element(s,i+1);break;case!(s instanceof d):this.raw(s,i+1);break;case!(s instanceof f):this.text(s,i+1);break;case!(s instanceof h):this.processingInstruction(s,i+1);break;default:throw new Error("Unknown XML node type: "+s.constructor.name)}this.stream.write(m+"</"+t.name+">")}return this.stream.write(this.endline(t))},i.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},i.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},i.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},i.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},i.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},i.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},i.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},i.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},i}(p)}).call(this)},function(t,e,i){(function(){"use strict";var t,n,r,s,o,a,l,c,u=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty;l=i(57),r=i(60),t=i(61),a=i(19),c=i(62).setImmediate,n=i(21).defaults,s=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},o=function(t,e,i){var n,r;for(n=0,r=t.length;n<r;n++)e=(0,t[n])(e,i);return e},e.Parser=function(i){function r(t){var i,r,s;if(this.parseString=u(this.parseString,this),this.reset=u(this.reset,this),this.assignOrPush=u(this.assignOrPush,this),this.processAsync=u(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(i in this.options={},r=n[.2])h.call(r,i)&&(s=r[i],this.options[i]=s);for(i in t)h.call(t,i)&&(s=t[i],this.options[i]=s);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var i in e)h.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,i),r.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),c(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},r.prototype.assignOrPush=function(t,e,i){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(i)):this.options.explicitArray?t[e]=[i]:t[e]=i},r.prototype.reset=function(){var t,e,i,n,r;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(r=this,function(t){if(r.saxParser.resume(),!r.saxParser.errThrown)return r.saxParser.errThrown=!0,r.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(i){return function(r){var s,a,l,c,u;if((l={})[e]="",!i.options.ignoreAttrs)for(s in u=r.attributes)h.call(u,s)&&(t in l||i.options.mergeAttrs||(l[t]={}),a=i.options.attrValueProcessors?o(i.options.attrValueProcessors,r.attributes[s],s):r.attributes[s],c=i.options.attrNameProcessors?o(i.options.attrNameProcessors,s):s,i.options.mergeAttrs?i.assignOrPush(l,c,a):l[t][c]=a);return l["#name"]=i.options.tagNameProcessors?o(i.options.tagNameProcessors,r.name):r.name,i.options.xmlns&&(l[i.options.xmlnskey]={uri:r.uri,local:r.local}),n.push(l)}}(this),this.saxParser.onclosetag=function(t){return function(){var i,r,a,l,c,u,d,f,p,y;if(u=n.pop(),c=u["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete u["#name"],!0===u.cdata&&(i=u.cdata,delete u.cdata),p=n[n.length-1],u[e].match(/^\s*$/)&&!i?(r=u[e],delete u[e]):(t.options.trim&&(u[e]=u[e].trim()),t.options.normalize&&(u[e]=u[e].replace(/\s{2,}/g," ").trim()),u[e]=t.options.valueProcessors?o(t.options.valueProcessors,u[e],c):u[e],1===Object.keys(u).length&&e in u&&!t.EXPLICIT_CHARKEY&&(u=u[e])),s(u)&&(u=""!==t.options.emptyTag?t.options.emptyTag:r),null!=t.options.validator&&(y="/"+function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)l=n[t],i.push(l["#name"]);return i}().concat(c).join("/"),function(){var e;try{u=t.options.validator(y,p&&p[c],u)}catch(i){return e=i,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof u)if(t.options.preserveChildrenOrder){if(p){for(a in p[t.options.childkey]=p[t.options.childkey]||[],d={},u)h.call(u,a)&&(d[a]=u[a]);p[t.options.childkey].push(d),delete u["#name"],1===Object.keys(u).length&&e in u&&!t.EXPLICIT_CHARKEY&&(u=u[e])}}else l={},t.options.attrkey in u&&(l[t.options.attrkey]=u[t.options.attrkey],delete u[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in u&&(l[t.options.charkey]=u[t.options.charkey],delete u[t.options.charkey]),Object.getOwnPropertyNames(u).length>0&&(l[t.options.childkey]=u),u=l;return n.length>0?t.assignOrPush(p,c,u):(t.options.explicitRoot&&(f=u,(u={})[c]=f),t.resultObject=u,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),i=function(t){return function(i){var r,s;if(s=n[n.length-1])return s[e]+=i,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==i.replace(/\\n/g,"").trim())&&(s[t.options.childkey]=s[t.options.childkey]||[],(r={"#name":"__text__"})[e]=i,t.options.normalize&&(r[e]=r[e].replace(/\s{2,}/g," ").trim()),s[t.options.childkey].push(r)),s}}(this),this.saxParser.ontext=i,this.saxParser.oncdata=function(t){var e;if(e=i(t))return e.cdata=!0}},r.prototype.parseString=function(e,i){var n;null!=i&&"function"==typeof i&&(this.on("end",(function(t){return this.reset(),i(null,t)})),this.on("error",(function(t){return this.reset(),i(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,c(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},r}(r.EventEmitter),e.parseString=function(t,i,n){var r,s;return null!=n?("function"==typeof n&&(r=n),"object"==typeof i&&(s=i)):("function"==typeof i&&(r=i),s={}),new e.Parser(s).parseString(t,r)}}).call(this)},function(t,e,i){!function(t){t.parser=function(t,e){return new r(t,e)},t.SAXParser=r,t.SAXStream=o,t.createStream=function(t,e){return new o(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(e,i){if(!(this instanceof r))return new r(e,i);!function(t){for(var e=0,i=n.length;e<i;e++)t[n[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=i||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=P.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(l)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),T(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}),r.prototype={end:function(){O(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return C(this,"Cannot write after close. Assign an onready handler.");if(null===e)return O(this);"object"==typeof e&&(e=e.toString());var i=0,r="";for(;r=j(e,i++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case P.BEGIN:if(this.state=P.BEGIN_WHITESPACE,"\ufeff"===r)continue;k(this,r);continue;case P.BEGIN_WHITESPACE:k(this,r);continue;case P.TEXT:if(this.sawRoot&&!this.closedRoot){for(var s=i-1;r&&"<"!==r&&"&"!==r;)(r=j(e,i++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(s,i-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(f(r)||this.sawRoot&&!this.closedRoot||I(this,"Text data outside of root node."),"&"===r?this.state=P.TEXT_ENTITY:this.textNode+=r):(this.state=P.OPEN_WAKA,this.startTagPosition=this.position);continue;case P.SCRIPT:"<"===r?this.state=P.SCRIPT_ENDING:this.script+=r;continue;case P.SCRIPT_ENDING:"/"===r?this.state=P.CLOSE_TAG:(this.script+="<"+r,this.state=P.SCRIPT);continue;case P.OPEN_WAKA:if("!"===r)this.state=P.SGML_DECL,this.sgmlDecl="";else if(f(r));else if(m(c,r))this.state=P.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=P.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=P.PROC_INST,this.procInstName=this.procInstBody="";else{if(I(this,"Unencoded <"),this.startTagPosition+1<this.position){var o=this.position-this.startTagPosition;r=new Array(o).join(" ")+r}this.textNode+="<"+r,this.state=P.TEXT}continue;case P.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(_(this,"onopencdata"),this.state=P.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=P.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=P.DOCTYPE,(this.doctype||this.sawRoot)&&I(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(_(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=P.TEXT):p(r)?(this.state=P.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case P.SGML_DECL_QUOTED:r===this.q&&(this.state=P.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case P.DOCTYPE:">"===r?(this.state=P.TEXT,_(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=P.DOCTYPE_DTD:p(r)&&(this.state=P.DOCTYPE_QUOTED,this.q=r));continue;case P.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=P.DOCTYPE:p(r)&&(this.state=P.DOCTYPE_DTD_QUOTED,this.q=r);continue;case P.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=P.DOCTYPE_DTD,this.q="");continue;case P.COMMENT:"-"===r?this.state=P.COMMENT_ENDING:this.comment+=r;continue;case P.COMMENT_ENDING:"-"===r?(this.state=P.COMMENT_ENDED,this.comment=D(this.opt,this.comment),this.comment&&_(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=P.COMMENT);continue;case P.COMMENT_ENDED:">"!==r?(I(this,"Malformed comment"),this.comment+="--"+r,this.state=P.COMMENT):this.state=P.TEXT;continue;case P.CDATA:"]"===r?this.state=P.CDATA_ENDING:this.cdata+=r;continue;case P.CDATA_ENDING:"]"===r?this.state=P.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=P.CDATA);continue;case P.CDATA_ENDING_2:">"===r?(this.cdata&&_(this,"oncdata",this.cdata),_(this,"onclosecdata"),this.cdata="",this.state=P.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=P.CDATA);continue;case P.PROC_INST:"?"===r?this.state=P.PROC_INST_ENDING:f(r)?this.state=P.PROC_INST_BODY:this.procInstName+=r;continue;case P.PROC_INST_BODY:if(!this.procInstBody&&f(r))continue;"?"===r?this.state=P.PROC_INST_ENDING:this.procInstBody+=r;continue;case P.PROC_INST_ENDING:">"===r?(_(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=P.TEXT):(this.procInstBody+="?"+r,this.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:m(u,r)?this.tagName+=r:(x(this),">"===r?F(this):"/"===r?this.state=P.OPEN_TAG_SLASH:(f(r)||I(this,"Invalid character in tag name"),this.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:">"===r?(F(this,!0),M(this)):(I(this,"Forward-slash in opening tag not followed by >"),this.state=P.ATTRIB);continue;case P.ATTRIB:if(f(r))continue;">"===r?F(this):"/"===r?this.state=P.OPEN_TAG_SLASH:m(c,r)?(this.attribName=r,this.attribValue="",this.state=P.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case P.ATTRIB_NAME:"="===r?this.state=P.ATTRIB_VALUE:">"===r?(I(this,"Attribute without value"),this.attribValue=this.attribName,S(this),F(this)):f(r)?this.state=P.ATTRIB_NAME_SAW_WHITE:m(u,r)?this.attribName+=r:I(this,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=P.ATTRIB_VALUE;else{if(f(r))continue;I(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",_(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?F(this):m(c,r)?(this.attribName=r,this.state=P.ATTRIB_NAME):(I(this,"Invalid attribute name"),this.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(f(r))continue;p(r)?(this.q=r,this.state=P.ATTRIB_VALUE_QUOTED):(I(this,"Unquoted attribute value"),this.state=P.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case P.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=P.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}S(this),this.q="",this.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:f(r)?this.state=P.ATTRIB:">"===r?F(this):"/"===r?this.state=P.OPEN_TAG_SLASH:m(c,r)?(I(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=P.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!y(r)){"&"===r?this.state=P.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}S(this),">"===r?F(this):this.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(this.tagName)">"===r?M(this):m(u,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=P.SCRIPT):(f(r)||I(this,"Invalid tagname in closing tag"),this.state=P.CLOSE_TAG_SAW_WHITE);else{if(f(r))continue;g(c,r)?this.script?(this.script+="</"+r,this.state=P.SCRIPT):I(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case P.CLOSE_TAG_SAW_WHITE:if(f(r))continue;">"===r?M(this):I(this,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var a,l;switch(this.state){case P.TEXT_ENTITY:a=P.TEXT,l="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:a=P.ATTRIB_VALUE_QUOTED,l="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:a=P.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===r?(this[l]+=L(this),this.entity="",this.state=a):m(this.entity.length?d:h,r)?this.entity+=r:(I(this,"Invalid character in entity name"),this[l]+="&"+this.entity+r,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var i=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,s=0,o=n.length;s<o;s++){var a=e[n[s]].length;if(a>i)switch(n[s]){case"textNode":A(e);break;case"cdata":_(e,"oncdata",e.cdata),e.cdata="";break;case"script":_(e,"onscript",e.script),e.script="";break;default:C(e,"Max buffer length exceeded: "+n[s])}r=Math.max(r,a)}var l=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=l+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;A(t=this),""!==t.cdata&&(_(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(_(t,"onscript",t.script),t.script="")}};try{e=i(58).Stream}catch(t){e=function(){}}var s=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function o(t,i){if(!(this instanceof o))return new o(t,i);e.apply(this),this._parser=new r(t,i),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,s.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(e.prototype,{constructor:{value:o}}),o.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=i(59).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},o.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},o.prototype.on=function(t,i){var n=this;return n._parser["on"+t]||-1===s.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),e.prototype.on.call(n,t,i)};var a="http://www.w3.org/XML/1998/namespace",l={xml:a,xmlns:"http://www.w3.org/2000/xmlns/"},c=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function p(t){return'"'===t||"'"===t}function y(t){return">"===t||f(t)}function m(t,e){return t.test(e)}function g(t,e){return!m(t,e)}var w,b,v,P=0;for(var E in t.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var i=t.ENTITIES[e],n="number"==typeof i?String.fromCharCode(i):i;t.ENTITIES[e]=n})),t.STATE)t.STATE[t.STATE[E]]=E;function T(t,e,i){t[e]&&t[e](i)}function _(t,e,i){t.textNode&&A(t),T(t,e,i)}function A(t){t.textNode=D(t.opt,t.textNode),t.textNode&&T(t,"ontext",t.textNode),t.textNode=""}function D(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function C(t,e){return A(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,T(t,"onerror",e),t}function O(t){return t.sawRoot&&!t.closedRoot&&I(t,"Unclosed root tag"),t.state!==P.BEGIN&&t.state!==P.BEGIN_WHITESPACE&&t.state!==P.TEXT&&C(t,"Unexpected end"),A(t),t.c="",t.closed=!0,T(t,"onend"),r.call(t,t.strict,t.opt),t}function I(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&C(t,e)}function x(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,i=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(i.ns=e.ns),t.attribList.length=0,_(t,"onopentagstart",i)}function N(t,e){var i=t.indexOf(":")<0?["",t]:t.split(":"),n=i[0],r=i[1];return e&&"xmlns"===t&&(n="xmlns",r=""),{prefix:n,local:r}}function S(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=N(t.attribName,!0),i=e.prefix,n=e.local;if("xmlns"===i)if("xml"===n&&t.attribValue!==a)I(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)I(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var r=t.tag,s=t.tags[t.tags.length-1]||t;r.ns===s.ns&&(r.ns=Object.create(s.ns)),r.ns[n]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,_(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function F(t,e){if(t.opt.xmlns){var i=t.tag,n=N(t.tagName);i.prefix=n.prefix,i.local=n.local,i.uri=i.ns[n.prefix]||"",i.prefix&&!i.uri&&(I(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),i.uri=n.prefix);var r=t.tags[t.tags.length-1]||t;i.ns&&r.ns!==i.ns&&Object.keys(i.ns).forEach((function(e){_(t,"onopennamespace",{prefix:e,uri:i.ns[e]})}));for(var s=0,o=t.attribList.length;s<o;s++){var a=t.attribList[s],l=a[0],c=a[1],u=N(l,!0),h=u.prefix,d=u.local,f=""===h?"":i.ns[h]||"",p={name:l,value:c,prefix:h,local:d,uri:f};h&&"xmlns"!==h&&!f&&(I(t,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),t.tag.attributes[l]=p,_(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),_(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=P.TEXT:t.state=P.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function M(t){if(!t.tagName)return I(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=P.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=P.SCRIPT);_(t,"onscript",t.script),t.script=""}var e=t.tags.length,i=t.tagName;t.strict||(i=i[t.looseCase]());for(var n=i;e--;){if(t.tags[e].name===n)break;I(t,"Unexpected close tag")}if(e<0)return I(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=P.TEXT);t.tagName=i;for(var r=t.tags.length;r-- >e;){var s=t.tag=t.tags.pop();t.tagName=t.tag.name,_(t,"onclosetag",t.tagName);var o={};for(var a in s.ns)o[a]=s.ns[a];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&s.ns!==l.ns&&Object.keys(s.ns).forEach((function(e){var i=s.ns[e];_(t,"onclosenamespace",{prefix:e,uri:i})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=P.TEXT}function L(t){var e,i=t.entity,n=i.toLowerCase(),r="";return t.ENTITIES[i]?t.ENTITIES[i]:t.ENTITIES[n]?t.ENTITIES[n]:("#"===(i=n).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),r=(e=parseInt(i,16)).toString(16)):(i=i.slice(1),r=(e=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(e)||r.toLowerCase()!==i?(I(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function k(t,e){"<"===e?(t.state=P.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(I(t,"Non-whitespace before first tag."),t.textNode=e,t.state=P.TEXT)}function j(t,e){var i="";return e<t.length&&(i=t.charAt(e)),i}P=t.STATE,String.fromCodePoint||(w=String.fromCharCode,b=Math.floor,v=function(){var t,e,i=16384,n=[],r=-1,s=arguments.length;if(!s)return"";for(var o="";++r<s;){var a=Number(arguments[r]);if(!isFinite(a)||a<0||a>1114111||b(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?n.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,n.push(t,e)),(r+1===s||n.length>i)&&(o+=w.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:v,configurable:!0,writable:!0}):String.fromCodePoint=v)}(e)},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("string_decoder")},function(t,e){t.exports=require("events")},function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},function(t,e){t.exports=require("timers")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.label=t.split(".")[0],this.fileName=t,this.folder=e,this.extension=t.split(".")[1]}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.defaultProfiles=void 0}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(24),s=i(0),o=i(2),a=i(3);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=o.default.getObjectsFromMetaData();let e=[];if(void 0!==r.default.getInstance().getConfig().defaultProfiles){e=(r.default.getInstance().getConfig().defaultProfiles||[]).map(t=>t.label)}const i=yield a.default.profiles.pickMany(t,e);r.default.getInstance().getConfig().defaultProfiles=i}catch(t){s.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2),o=i(67),a=i(2),l=i(3);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=s.default.getObjectsFromMetaData(),e=yield l.default.profiles.pickOne(t),i=yield s.default.readProfileDefinitionFile(e),c=yield o.default.getObjectsFromMetaData(),u=(yield function(t,e,i){return n(this,void 0,void 0,(function*(){const s=e.map(t=>Object.assign({},t,{picked:i.includes(t.label)}));return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(s,{ignoreFocusOut:!0,placeHolder:`Select all Apex Classes you want to add access to profile ${t}.`,canPickMany:!0});void 0!==n?e(n):i("Profiles Configuration Aborted")})))}))}(e.label,c,i.Profile.classAccesses.filter(t=>t.enabled).map(t=>t.apexClass))).map(t=>t.label);a.default.updateProfilesApexClassesAccess(e,u),r.window.showInformationMessage(`Updated classes access on profile ${e.label}`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(68),r=i(5),s=i(0),o=i(6);e.default={getObjectsFromMetaData:function(){const t=r.join(s.workspace.rootPath,"src","classes"),e=o.readdirSync(t);if(0===e.length)throw Error("No Apex Class definition file was found in folder "+t);return this.generateSObjectDefinitions(e,t)},generateSObjectDefinitions:function(t,e){return t.filter(t=>t.endsWith(".cls")).map(t=>new n.default(t,e))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.label=t.split(".")[0],this.fileName=t,this.folder=e,this.extension=t.split(".")[1]}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2),o=i(70),a=i(2),l=i(3);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=s.default.getObjectsFromMetaData(),e=yield l.default.profiles.pickOne(t),i=yield s.default.readProfileDefinitionFile(e),c=yield o.default.getObjectsFromMetaData(),u=(yield function(t,e,i){return n(this,void 0,void 0,(function*(){const s=e.map(t=>Object.assign({},t,{picked:i.includes(t.label)}));return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(s,{ignoreFocusOut:!0,placeHolder:`Select all Apex Classes you want to add access to profile ${t}.`,canPickMany:!0});void 0!==n?e(n):i("Profiles Configuration Aborted")})))}))}(e.label,c,i.Profile.pageAccesses.filter(t=>t.enabled).map(t=>t.apexPage))).map(t=>t.label);a.default.updateProfilesApexPagesAccess(e,u),r.window.showInformationMessage(`Updated Visualforce pages access on profile ${e.label}`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(71),r=i(5),s=i(0),o=i(6);e.default={getObjectsFromMetaData:function(){const t=r.join(s.workspace.rootPath,"src","pages"),e=o.readdirSync(t);if(0===e.length)throw Error("No Visualforce Page definition file was found in folder "+t);return this.generateSObjectDefinitions(e,t)},generateSObjectDefinitions:function(t,e){return t.filter(t=>t.endsWith(".page")).map(t=>new n.default(t,e))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.label=t.split(".")[0],this.fileName=t,this.folder=e,this.extension=t.split(".")[1]}}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2),o=i(3),a=i(26);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=s.default.getObjectsFromMetaData(),e=yield o.default.profiles.pickOne(t),i=(yield s.default.readProfileDefinitionFile(e)).Profile.userPermissions.reduce((t,e)=>(t[e.name]=e,t),{}),l=((yield function(t,e,i){return n(this,void 0,void 0,(function*(){const s=e.map(t=>{let e=i[t]&&i[t].enabled,n=!!i[t];return{label:t,picked:e,description:`(${e?"Enabled on profile":n?"Disabled on profile":"Not in profile"})`}});return new Promise((e,i)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(s,{ignoreFocusOut:!0,placeHolder:`Select all user permissions for profile ${t}.`,canPickMany:!0});void 0!==n?e(n):i("Profile User Permission Configuration Aborted")})))}))}(e.label,Object.keys(a.default),i))||[]).map(t=>t.label);s.default.updateProfilesUserPermissions(e,l),r.window.showInformationMessage(`Updated user permissions on profile ${e.label}`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2),o=i(3);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=yield o.default.profiles.pickUserPermission(),e=s.default.getObjectsFromMetaData(),i=yield Promise.all(e.map(t=>n(this,void 0,void 0,(function*(){return{name:t.label,meta:yield s.default.readProfileDefinitionFile(t)}})))),a=yield function(t,e){return n(this,void 0,void 0,(function*(){const i=t.map(t=>{let i=!1,n=void 0;return t.meta.Profile.userPermissions&&(n=t.meta.Profile.userPermissions.find(t=>t.name===e),n&&n.enabled&&(i=!0)),{label:t.name,picked:i,description:`(${i?"Enabled on profile":n?"Disabled on profile":"Not in profile"})`}});return new Promise((t,s)=>n(this,void 0,void 0,(function*(){const n=yield r.window.showQuickPick(i,{ignoreFocusOut:!0,placeHolder:`Select all Profiles you want to enable permission ${e}.`,canPickMany:!0});void 0!==n?t(n.map(t=>t.label)):s("Profiles Configuration Aborted")})))}))}(i,t);yield Promise.all(e.map(e=>n(this,void 0,void 0,(function*(){yield s.default.updateProfileSinglePermission(e,t,a.includes(e.label))})))),r.window.showInformationMessage(`Updated user permissions for ${t} on all profiles`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}l((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=i(0),s=i(2),o=i(2),a=i(3),l=i(27),c=i(20),u=i(23);e.default=function(){return n(this,void 0,void 0,(function*(){try{const t=s.default.getObjectsFromMetaData(),e=yield a.default.profiles.pickOne(t),i=yield s.default.readProfileDefinitionFile(e),h=yield l.default.getObjectsFromMetaData(),d=yield a.default.sObjects.pickOne(h.filter(t=>t.sObjectType===c.SObjectType.SObject)),f=yield l.default.readSObjectDefinitionFile(d),p=yield function(t,e,i,s){return n(this,void 0,void 0,(function*(){return new Promise((o,a)=>n(this,void 0,void 0,(function*(){if(i.CustomObject.fields){const n=i.CustomObject.fields.filter(t=>t.fullName.endsWith("__c")&&!t.required),l=s.Profile.fieldPermissions.reduce((t,i)=>(i.field.startsWith(e)&&(t[i.field]=i),t),{}),c=n.map(t=>{let i={label:t.fullName,description:"",detail:"",field:{editable:!1,field:t.fullName,readable:!1}};if(l[`${e}.${t.fullName}`]){let n=l[`${e}.${t.fullName}`];i.description+=n.editable?"":n.readable?"":"",i.detail+=n.editable?"EDITABLE":n.readable?"READABLE":"NO ACCESS",i.field=t}else i.description="",i.detail="NOT IN PROFILE";return i}),u=yield r.window.showQuickPick(c,{ignoreFocusOut:!0,placeHolder:`Select ${e} field you want to edit FLS for profile ${t}.`,matchOnDetail:!0});void 0!==u?o(u.field):a("Profiles FLS Configuration Aborted")}else a(`No Fields were found for the SObject ${e}`)})))}))}(e.label,d.label,f,i),y=yield function(t,e){return n(this,void 0,void 0,(function*(){return new Promise((i,s)=>n(this,void 0,void 0,(function*(){let n=[{label:"READABLE",description:"",perm:u.default.read},{label:"EDITABLE",description:"",perm:u.default.edit},{label:"NO ACCESS",description:"",perm:u.default.none}];const o=yield r.window.showQuickPick(n,{ignoreFocusOut:!0,placeHolder:`Select ${t} access level for profile ${e}.`});void 0!==o?i(o.perm):s("Profiles FLS Configuration Aborted")})))}))}(p.fullName,e.label);o.default.updateProfilesVisibilityForField([e],[{sObject:d,fields:[p]}],y),r.window.showInformationMessage(`Updated FLS on profile ${e.label} for ${d.label}.${p.fullName}`)}catch(t){r.window.showErrorMessage(t),console.log(t)}}))}}]);
//# sourceMappingURL=extension.js.map