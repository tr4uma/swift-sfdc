{"version":3,"sources":["../webpack/bootstrap",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel/dist/src/channel.js","../external \"vscode\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Logging.js",".././node_modules/xmlbuilder/lib/XMLNode.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/index.js",".././src/commands/builders/prompts/Prompts.ts","../external \"path\"",".././src/commands/metadatamanagement/profiles/ProfileFilesManager.ts",".././src/monitoring/monitor.ts",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Util.js","../external \"fs\"",".././src/config/config-manager.ts",".././node_modules/xmlbuilder/lib/Utility.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/CorrelationIdManager.js","../external \"os\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Constants.js","../external \"url\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/RequestResponseHeaders.js",".././node_modules/xmlbuilder/lib/XMLElement.js",".././node_modules/xmlbuilder/lib/XMLCData.js",".././node_modules/xmlbuilder/lib/XMLComment.js",".././node_modules/xmlbuilder/lib/XMLDeclaration.js",".././node_modules/xmlbuilder/lib/XMLDocType.js",".././node_modules/xmlbuilder/lib/XMLDTDAttList.js",".././node_modules/xmlbuilder/lib/XMLDTDEntity.js",".././node_modules/xmlbuilder/lib/XMLDTDElement.js",".././node_modules/xmlbuilder/lib/XMLDTDNotation.js",".././node_modules/xmlbuilder/lib/XMLRaw.js",".././node_modules/xmlbuilder/lib/XMLText.js",".././node_modules/xmlbuilder/lib/XMLProcessingInstruction.js",".././node_modules/xml2js/lib/processors.js","../external \"http\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","../external \"https\"",".././src/commands/metadatamanagement/sObjects/structures/SObjectType.ts",".././node_modules/xml2js/lib/defaults.js",".././node_modules/xmlbuilder/lib/XMLStringWriter.js","../external \"timers\"",".././src/commands/metadatamanagement/utils.ts",".././src/commands/metadatamanagement/profiles/structures/AccessType.ts",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././node_modules/semver/semver.js","../external \"util\"","../external \"assert\"",".././node_modules/emitter-listener/listener.js",".././node_modules/shimmer/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Performance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Config.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Context.js",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Date.ts",".././src/commands/metadatamanagement/profiles/structures/ProfileUserPermission.ts",".././src/commands/metadatamanagement/sObjects/SObjectFilesManager.ts",".././node_modules/xml2js/lib/xml2js.js",".././node_modules/xmlbuilder/lib/XMLAttribute.js",".././node_modules/xmlbuilder/lib/XMLStringifier.js",".././node_modules/xmlbuilder/lib/XMLWriterBase.js","../external \"stream\"","../external \"events\"",".././src/commands/metadatamanagement/profiles/structures/MetadataStructure.ts",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel/dist/src/patchRequire.js","../external \"module\"",".././node_modules/stack-chain/index.js","../external \"child_process\"","../external \"zlib\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Traceparent.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././src/extension.ts",".././src/commands/index.ts",".././src/commands/create-field.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFieldType.ts",".././src/commands/builders/SObjectFieldBuilders.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFieldTemplates.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Text.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Checkbox.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Email.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Phone.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/TextArea.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/LongTextArea.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Number.ts",".././src/commands/metadatamanagement/sObjects/structures/field-templates/Lookup.ts",".././src/commands/builders/prompts/types/Fields.ts",".././src/commands/builders/prompts/types/Profiles.ts",".././src/commands/builders/prompts/types/SObjects.ts",".././src/commands/builders/prompts/types/Utils.ts",".././src/commands/metadatamanagement/sObjects/structures/SObjectFile.ts",".././node_modules/xml2js/lib/builder.js",".././node_modules/xmlbuilder/lib/index.js",".././node_modules/xmlbuilder/lib/XMLDocument.js",".././node_modules/xmlbuilder/lib/XMLDocumentCB.js",".././node_modules/xmlbuilder/lib/XMLStreamWriter.js",".././node_modules/xml2js/lib/parser.js",".././node_modules/sax/lib/sax.js","../external \"string_decoder\"",".././node_modules/xml2js/lib/bom.js",".././src/config/config.ts",".././src/commands/metadatamanagement/profiles/structures/ProfileFile.ts",".././node_modules/vscode-extension-telemetry/lib/telemetryReporter.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/applicationinsights.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/index.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","../external \"console\"",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js",".././node_modules/vscode-extension-telemetry/node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././node_modules/cls-hooked/index.js",".././node_modules/cls-hooked/context.js","../external \"async_hooks\"",".././node_modules/cls-hooked/context-legacy.js",".././node_modules/async-hook-jl/index.js",".././node_modules/async-hook-jl/async-hook.js",".././node_modules/async-hook-jl/patches/next-tick.js",".././node_modules/async-hook-jl/patches/promise.js",".././node_modules/async-hook-jl/patches/timers.js",".././node_modules/stack-chain/stack-chain.js",".././node_modules/stack-chain/format.js",".././node_modules/continuation-local-storage/context.js",".././node_modules/async-listener/index.js",".././node_modules/async-listener/glue.js","../external \"net\"","../external \"dns\"","../external \"crypto\"",".././node_modules/async-listener/es6-wrapped-promise.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Console.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Exceptions.js","../external \"constants\"",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Tracestate.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/ConnectionStringParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/NodeClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/TelemetryClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Channel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Sender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/EnvelopeFactory.js",".././src/commands/configure-default-fields-profiles.ts",".././src/commands/configure-profiles-apex-classes.ts",".././src/commands/metadatamanagement/apexClasses/apexClassesFileManager.ts",".././src/commands/metadatamanagement/apexClasses/structures/ApexClassFile.ts",".././src/commands/configure-profiles-apex-pages.ts",".././src/commands/metadatamanagement/apexPages/apexPagesFileManager.ts",".././src/commands/metadatamanagement/apexPages/structures/ApexPageFile.ts",".././src/commands/configure-profiles-user-permissions.ts",".././src/commands/configure-cross-profile-user-permission.ts",".././src/commands/configure-profiles-fls.ts",".././src/commands/reset-config.ts",".././src/commands/reload-config.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","this","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","require","channel","Logging","info","message","optionalParams","_i","arguments","enableDebug","console","TAG","warn","disableWarnings","disableErrors","XMLCData","XMLComment","XMLDeclaration","XMLDocType","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","isEmpty","isFunction","isObject","ref","hasProp","XMLNode","parent","options","stringify","children","element","attributes","text","childNode","item","j","k","lastChild","len","len1","ref1","val","valueOf","Array","isArray","apply","ignoreDecorators","convertAttKey","indexOf","attribute","substr","separateArrayItems","convertTextKey","convertCDataKey","cdata","convertCommentKey","comment","convertRawKey","raw","convertPIKey","instruction","node","Error","insertBefore","child","removed","isRoot","insertAfter","remove","concat","commentBefore","commentAfter","target","insTarget","insValue","instructionBefore","instructionAfter","declaration","encoding","standalone","doc","xmldec","document","unshift","root","doctype","pubID","sysID","ref2","up","isDocument","rootObject","end","prev","next","importDocument","clonedRoot","clone","ele","nod","txt","dat","com","ins","dec","dtd","u","importXMLBuilder","__export","fields","profiles","sObjects","utils","getObjectsFromMetaData","path","join","getInstance","getVSCodeRoot","retrieveBackwardCompatibleRootFolder","files","fs","readdirSync","generateProfilesDefinitions","fileNames","map","filename","readProfileDefinitionFile","objDef","Promise","resolve","reject","filePath","folder","toString","fileName","fileContent","readFileSync","xmlParser","xml2js","Parser","explicitArray","valueProcessors","parseBooleans","parsedFile","parseString","err","result","writeProfileDefinitionFile","fileNamePath","stuffToWrite","xml","Builder","undefined","renderOpts","pretty","indent","newline","buildObject","escaped","replace","writeFileSync","updateProfilesVisibilityForField","fieldsInfos","accessType","profileFile","prof","mappedFields","Profile","fieldPermissions","reduce","acc","curr","field","fieldInfo","fieldMeta","currField","sObject","label","fullName","log","readable","none","editable","edit","sort","a","b","sortItemsByField","prf","updateProfilesApexClassesAccess","profile","enabledClasses","classAccesses","classAccess","enabled","includes","apexClass","updateProfilesApexPagesAccess","enabledPages","pageAccesses","pageAccess","apexPage","updateProfilesUserPermissions","enabledPermissions","userPermissions","mappedPermissions","current","perm","permission","updateProfileSinglePermission","find","fesTa","Buffer","from","Monitor","monitor","instance","context","extensionVersion","vscode","extensions","getExtension","packageJSON","subscriptions","tag","properties","measurements","sendTelemetryEvent","sendTelemetryErrorEvent","dispose","__assign","assign","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","split","trim","substring","str","int32ArrayToBase64","array","toChar","v","String","fromCharCode","x","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","id","obj","isError","isPrimitive","input","propType","isDate","msToTimeSpan","totalms","isNaN","sec","toFixed","min","floor","hour","days","extractError","looseError","code","extractObject","origProperty","toJSON","validateStringMap","stringTarget","JSON","constructor","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","client","requestUrl","excludedDomains","config","correlationHeaderExcludedDomains","RegExp","test","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","host","port","pathname","proxyUrl","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","request","safeIncludeCorrelationHeader","correlationHeader","header","addCorrelationIdHeaderFromString","setHeader","requestContextSourceKey","correlationId","components","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","ConfigManager","getCfgPath","_currentConfig","init","projRoot","getConfig","sfRootFolder","autodiscoverProjectStructure","SF_Original","setAntProjectStructure","setSFDXProjectStructure","metadataStructure","SF_SFDX","packageLocation","existsSync","storedCfg","projStructure","handler","set","storeConfig","Proxy","readConfig","setConfig","workspace","workspaceFolders","uri","isPlainObject","slice","source","sources","ctor","proto","getPrototypeOf","Function","Domain","CorrelationIdManager","queryCorrelationId","callback","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","method","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","on","correlationIdPrefix","setTimeout","correlationIdRetryIntervalMs","error","cancelCorrelationIdQuery","generateRequestId","parentId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","startIndex","delimiter","requestIdMaxLength","trimPosition","w3cEnabled","DiagChannel","CorrelationContextManager","getCurrentContext","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","fn","wrapEmitter","emitter","bindEmitter","wrapCallback","enable","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","disable","nodeVer","process","versions","parseInt","canUseClsHooked","greater800","less820","greater470","props","addHeaderData","keyvals","keyval","parts","serializeToHeader","getProperty","setProperty","bannedCharacters","QuickPulseCounter","PerformanceCounter","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","PROCESSOR_TIME","REQUEST_RATE","REQUEST_DURATION","COMMITTED_BYTES","REQUEST_FAILURE_RATE","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","EXCEPTION_RATE","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","XMLAttribute","superClass","__super__","eleName","documentObject","extend","att","attName","clonedSelf","clonedChild","attValue","skipNullAttributes","removeAttribute","writer","xmlVersion","xmlEncoding","xmlStandalone","XMLDTDAttList","XMLDTDElement","XMLDTDEntity","XMLDTDNotation","dtdPubID","dtdSysID","attList","elementName","attributeName","attributeType","defaultValueType","defaultValue","entity","pEntity","notation","docType","ent","pent","not","match","dtdAttType","dtdAttDefault","dtdAttList","pe","nData","dtdNData","dtdEntityValue","dtdEntity","dtdElementValue","dtdElement","dtdNotation","eleText","processingInstruction","prefixMatch","normalize","toLowerCase","firstCharLowerCase","charAt","stripPrefix","parseNumbers","parseFloat","HttpDependencyParser","CorrelationContextManager_1","Traceparent","AutoCollectHttpDependencies","INSTANCE","_client","isEnabled","_isEnabled","_isInitialized","_initialize","IsInitialized","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","requestNumber","getUrl","getHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","SObjectType","defaults","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","includeWhiteChars","async","strict","attrNameProcessors","attrValueProcessors","tagNameProcessors","emptyTag","preserveChildrenOrder","rootName","headless","chunkSize","XMLWriterBase","XMLStringWriter","textispresent","level","space","spacebeforeslash","textispresentwasset","newlinedefault","prettydefault","every","allowEmpty","dontprettytextnodes","openNode","rootNodeName","closeNode","fieldName","AccessType","env","publishers","unpatchedModules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","debug","SemVer","NODE_DEBUG","args","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","Number","re","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","TypeError","major","minor","patch","prerelease","num","build","format","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","list","rsort","Range","range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","_","M","pr","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","max","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","shimmer","wrap","unwrap","SYMBOL","propertyIsEnumerable","configurable","writable","_listeners","self","_events","_findAndProcess","before","unprocessed","_process","_wrap","unwrapped","visit","wrapped","onAddListener","onEmit","addListener","removeListener","emit","adding","existing","returned","__wrapped","remover","funktion","logger","nodule","wrapper","stack","original","__unwrap","massWrap","nodules","names","massUnwrap","os","Constants","AutoCollectPerformance","collectionInterval","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","duration","success","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","PROCESS_TIME","freeMem","freemem","usedMem","memoryUsage","rss","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","_lastRequestExecutionTime","_lastDependencyExecutionTime","ConnectionStringParser","Config","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","keys","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","setCorrelationId","ENV_http_proxy","ENV_https_proxy","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","ENV_nativeMetricsDisablers","ENV_nativeMetricsDisableAll","Contracts","Context","packageJsonPath","ContextTagKeys","tags","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","exception","applicationVersion","deviceId","cloudRoleInstance","deviceOSVersion","type","cloudRole","DefaultRoleName","arch","platform","sdkVersion","internalSdkVersion","externalId","required","ProfileUserPermission","withFileTypes","generateSObjectDefinitions","file","readSObjectDefinitionFile","isDirectory","CustomObject","fieldsArr","all","CustomField","writeSObjectDefinitionFile","sObjFile","fieldsToAdd","el","isNew","fieldToAdd","builder","fieldObj","parser","processors","ValidationError","XMLStringifier","me","assertLegalChar","noDoubleEncoding","elEscape","attEscape","ampregex","ref3","ref4","ref5","ref6","offset","MetadataStructure","moduleModule","nativeModules","binding","originalRequire","patchedModules","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","_stackChain","Base","Data","DataPoint","DataPointType","Envelope","ExceptionDetails","PageViewData","SeverityLevel","StackFrame","extendStatics","__extends","setPrototypeOf","__proto__","__","_super","ver","RequestParser","startTime","_setStatus","status","endTime","_isSuccess","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","isValidSpanId","legacyRootId","lastIndexOf","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","getRequestId","getOperationName","getCorrelationContextHeader","getTraceparent","getTracestate","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","once","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","getLegacyRootId","commands","registerCommand","createField","configureDefaultFieldsProfiles","configureProfilesApexClasses","configureProfilesApexPages","configureProfilesUserPermissions","configureCrossProfileUserPermission","configureProfilesFLS","resetConfig","reloadConfig","executeCommand","sendEvent","fieldCreationWizard","otherFields","availableSObjectsList","forbiddenApiNames","pickedFieldType","window","showQuickPick","ignoreFocusOut","placeHolder","pickSObjectFieldType","SObjectFiles","pickedSObject","pickOne","objectDefinition","sObjectFieldDefinition","sObjectType","SObject","defaultProfiles","showInformationMessage","showErrorMessage","sendError","stackTrace","SObjectFieldType","Checkbox","apiName","isRequired","SObjectFieldTemplates","Text","stringLength","isExternalId","unique","isUnique","Email","DateTime","Phone","TextArea","LongTextArea","precision","scale","precisionAndScale","Lookup","referenceTo","lookupTarget","relationshipLabel","relationshipName","relationshipApiName","caseSensitive","visibleLines","deleteConstraint","possibleValues","minLength","maxLength","regex","fieldLength","showInputBox","valueSelection","prompt","validateInput","pickedSObj","relLabel","relApiName","pickMany","preselected","selected","profilesOptions","picked","canPickMany","pickUserPermission","sObjectDefinitions","confirmation","confirmed","extension","endsWith","CustomMetadata","escapeCDATA","requiresCDATA","wrapCDATA","entry","opts","rootObj","render","rootElement","attr","allowSurrogateChars","XMLDocument","XMLDocumentCB","XMLStreamWriter","begin","onData","onEnd","stringWriter","streamWriter","stream","writerOptions","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","openCurrent","isOpen","isClosed","chunk","results","isLastRootNode","write","endline","bom","events","processItem","sax","setImmediate","thing","assignOrPush","processAsync","xmlnskey","remaining","saxParser","close","error1","errThrown","newValue","ontext","removeAllListeners","onerror","resume","onend","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","local","onclosetag","emptyStr","nodeName","objClone","old","xpath","pop","charChild","oncdata","stripBOM","EventEmitter","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","clearBuffers","q","bufferCheckPosition","lowercase","lowercasetags","looseCase","closed","closedRoot","sawRoot","noscript","state","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","rootNS","trackPosition","position","line","column","EVENTS","F","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","toUpperCase","emitNode","CDATA","COMMENT","DOCTYPE","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","buffer","parseEntity","entityBody","entityStart","maxAllowed","maxActual","closeText","checkBufferLength","flush","ex","streamWraps","ev","_parser","_decoder","h","isBuffer","SD","StringDecoder","XML_NAMESPACE","stringFromCharCode","fromCodePoint","STATE","COMMENT_STARTING","nodeType","qname","qualName","qn","selfClosing","nv","isSelfClosing","closeTo","entityLC","numStr","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","isFinite","RangeError","appInsights","TelemetryReporter","extensionId","firstParty","userOptIn","logFilePath","logStream","createWriteStream","flags","autoClose","updateUserOptIn","configListener","onDidChangeConfiguration","getConfiguration","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","start","commonProperties","getCommonProperties","userId","machineId","sessionId","uiKind","UIKind","Web","Desktop","cleanRemoteName","remoteName","shouldSendErrorTelemetry","extensionKind","ExtensionKind","Workspace","_extension","cloneAndChange","change","anonymizeFilePaths","cleanupPatterns","appRoot","extensionPath","updatedStack","cleanUpIndexes","cleanupPatterns_1","regexp","exec","lastIndex","nodeModulesRegex","fileRegex","_loop_1","y","cleanupPatterns_2","eventName","cleanProperties","_key","trackEvent","errorProps","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","default","DistributedTracingModes","AutoCollectConsole","AutoCollectExceptions","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","AutoCollectNativePerformance","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","collectConsoleLog","collectExtendedMetrics","extendedMetricsConfig","parseEnabled","disabledMetrics","useAsyncHooks","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","addCollector","quickPulseClient","azuresdk","consolePub","tedious","diagnostic_channel_1","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","shutdown","azureCoreTracing","coreTracing","tracer_1","BasicTracer","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","originalBunyan","originalEmit","_emit","rec","noemit","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","stderr","aiLoggingConsole","Console","originalMethod","consoleMethods_1","mongoCore","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","requestId","startedData","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","query","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","events_1","postgres6","originalPg","originalPgPath","originalClientQuery","Client","values","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","command","ceil","preparable","plan","postgres7","callbackProvided","then","_Promise","catch","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","connection","parametersByName","statement","__rest","getOwnPropertySymbols","winston3","originalWinston","AppInsightsTransport","meta","splat","levelKind","npm","levels","syslog","mapLevelToKind","Transport","patchedConfigure","lastLevel","add","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","f","util","assert","async_hooks","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","Map","_indent","getNamespace","namespaces","destroyNamespace","namespace","ok","inspect","debug2","_rawDebug","createHook","asyncId","triggerId","resource","executionAsyncId","indentStr","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","enter","exit","delete","ERROR_SYMBOL","asyncHooksCurrentId","currentId","createContext","_ns_name","run","runAndReturn","runPromise","promise","thisSymbol","unwrappedContexts","thunk","fromException","asyncHook","invertedProviders","providers","msg","DEBUG","getFunctionName","addHooks","uid","handle","provider","parentUid","parentHandle","_state","stackChain","modifier","_modifiers","deattach","AsyncHook","_asyncHook","attach","frames","callSite","getFileName","asyncWrap","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","counter","Hooks","initFns","preFns","postFns","destroyFns","hook","pre","has","post","didThrow","destroy","removeElement","_hooks","setupHooks","hooks","removeHooks","NextTickWrap","oldNextTick","nextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","clearTimeout","clearImmediate","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","chain","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","lines","ee","FormatErrorString","frame","removeAsyncListener","addAsyncListener","contexts","storage","after","v6plus","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","socket","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Socket","onSocket","childProcess","wrapChildProcess","stdio","activatorFirst","onexit","ChildProcess","_fatalException","_originalNextTick","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","lchown","lchmod","ftruncate","Deflate","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","executor","ensureAslWrapper","inherits","wrapThen","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","aslWrapper","last","wrapPromise","asyncCatcher","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","missing","errorValues","inErrorTick","handled","errorThrew","threw","AsyncListener","callbacks","createAsyncListener","registered","simpleWrap","super","_methodNames","Contracts_1","clients","subscriber","trackTrace","severity","Warning","Information","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","deviceLocale","deviceModel","deviceOEMName","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","internalAgentVersion","internalNodeName","kind","Measurement","sampleRate","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","bunyanToAILevelMap","10","Verbose","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","verbose","silly","unknown","_canUseUncaughtExceptionMonitor","_exceptionListenerHandle","reThrow","_FALLBACK_ERROR_MESSAGE","isAppCrashing","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","_RETHROW_EXIT_MESSAGE","_getUrlFromRequestOptions","baseTelemetry","dependencyId","urlObject","search","hash","dependencyName","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","commandName","dbName","databaseName","queryObj","sqlString","sql","connectionConfig","_connection","socketPath","conn","Tracestate","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","check","ip","rawHeaders","parseId","setBackCompatFromThisTraceContext","userAgent","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","Boolean","vendorValid","keydeduper","parts_1","part","pair","QuickPulseEnvelopeFactory","QuickPulseSender","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_sender","collector","_addMetric","addDocument","envelope","telemetryEnvelopeToQuickPulseDocument","_goQuickPulse","enableCollectors","count","Value","Weight","createQuickPulseMetric","Name","_resetQuickPulseBuffer","createQuickPulseEnvelope","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","ping","_quickPulseDone","shouldPOST","connectionString","_FIELDS_SEPARATOR","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","endpointsuffix","locationPrefix","location","StreamId","documents","machineName","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","baseData","severityLevel","Message","exceptionDetails","exceptionMessage","exceptionType","assembly","typeName","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","responseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseConfig","_config","_consecutiveErrors","done","_submitData","postOrPing","_b","payload","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","_disabledMetrics","_metricsAvailable","NativeMetricsEmitters","_emitter","_trackNativeMetrics","disableAll","individualOptOuts","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","pow","total","loop","getLoopData","loopUsage","heap","_c","heapUsed","heapTotal","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Channel","TelemetryProcessors","Sender","EnvelopeFactory","_telemetryProcessors","sender","trackAvailability","track","triggerSend","telemetryType","createEnvelope","toISOString","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","send","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setDiskRetryMode","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","charCodeAt","abs","requestData","remoteDependencyData","child_process","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","spawn","windowsHide","signal","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdout","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","lstat","stats","mkdir","_getShallowDirectorySize","readdir","totalSize","stat","fileStats","isFile","size","_getShallowDirectorySizeSync","statSync","tmpdir","TEMPDIR_PREFIX","getTime","fileFullPath","writeFile","mkdirSync","dirSize","tempDir","exists","basename","firstFile","readFile","unlink","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","getTags","trace","remoteDependency","parseStack","metric","Aggregation","availabilityData","runLocation","totalSizeInBytes","_StackFrame","parsedFrame","sizeInBytes","left","right","acceptedLeft","acceptedRight","howMany","matches","baseSize","selectedProfiles","selectedProfile","unpackedProfile","availableApexClasses","selectedApexClassesNames","classes","preselectedClasses","classesOptions","configureClassAccessForProfile","availableApexPages","selectedApexPagesNames","preselectedPages","pagesOptions","page","preselectedPermissionsMap","permissionOptions","found","description","configureUserPermissions","unpackedProfileMetas","profileMetas","configureProfilesForPermission","sObj","pickedField","profileName","sObjectName","filteredSelectedObjFields","startsWith","detail","matchOnDetail","configureFLSForProfileAndSObject","read","configureFLSForField","resetToDefault"],"mappings":"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ACA,0CACA,sCACA,wBACA,wCACA,sCACA,gCACA,sDACA,4CACA,wCACA,4CACA,0CACA,sBACA,0BACA,wBACA,4BACA,4CACA,8BACA,8CACA,4CACA,4BACA,kCACA,wDACA,sCACA,kEACA,oDACA,gCACA,oDACA,4CACA,0DACA,wCACA,4BACA,sCACA,0CACA,sDACA,oDACA,0CACA,kCACA,oDACA,oDACA,wDACA,8CACA,kDACA,oDACA,oDACA,8CACA,wCACA,wCACA,4CACA,wCACA,4BACA,wDACA,8BACA,kCACA,gDACA,kCACA,kDACA,8DACA,oDACA,8BACA,0CACA,wDACA,4BACA,gCACA,oCACA,kCACA,wCACA,8CACA,4BACA,4BACA,oCACA,gCACA,kCACA,sCACA,0DACA,wCACA,0BACA,sCACA,0DACA,kCACA,oBACA,0BACA,4BACA,oCACA,wDACA,oCACA,0DACA,kCACA,4CACA,kEACA,4DACA,wDACA,kEACA,4DACA,kDACA,oCACA,wCACA,oCACA,oDACA,kDACA,0BACA,4BACA,sCACA,8BACA,0CACA,0CACA,wCACA,oCACA,8BACA,gDACA,8CACA,wCACA,wBACA,wBA5JF,CAAKA,MAAqB,KA+J1B,UAAeA,G,iXCpKf,cACA,OACA,QACA,QACA,QACA,QACA,QAEA,UAAe,CAEbx4B,uBAAwB,WACtB,MAAMrK,EAAIsK,EAAKC,KAAK,UAAcC,cAAcC,gBAA2B,UAAcD,cAAcE,uCAAwC,WACzIC,EAAQC,EAAGC,YAAY7K,EAAG,CAAE8iC,eAAe,IACjD,GAAqB,IAAjBn4B,EAAMzI,OAAgB,MAAMgF,MAAM,kDAAoDlH,GAC1F,OAAOQ,KAAKuiC,2BAA2Bp4B,EAAO3K,IAGhD+iC,2BAA4B,SAAUp4B,EAAoBL,GACxD,OAAOK,EAAMK,IAAIg4B,GAAQ,IAAI,UAAYA,EAAM14B,KAGjD24B,0BAA2B,SAAgB93B,G,yCACzC,OAAO,IAAIC,QAAQ,CAAOC,EAASC,IAAW,EAAD,gCAC3C,MAAMC,EAAWjB,EAAKC,KAAKY,EAAOK,OAAOC,WAAYN,EAAOO,UAC5D,GAAIP,EA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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 75);\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","module.exports = require(\"vscode\");","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLProcessingInstruction, XMLRaw, XMLText, isEmpty, isFunction, isObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isEmpty = ref.isEmpty;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.children = [];\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      }\n    }\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref1, val;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            lastChild = this.element(key);\n            lastChild.element(val);\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref1;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref1;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      attributes || (attributes = {});\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children[0] instanceof XMLDeclaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref1, ref2;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref1 = doc.children;\n      for (i = j = 0, len = ref1.length; j < len; i = ++j) {\n        child = ref1[i];\n        if (child instanceof XMLDocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref2 = doc.children;\n      for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {\n        child = ref2[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.isDocument) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.isDocument) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","import Fields from './types/Fields'\nimport Profiles from './types/Profiles'\nimport SObjects from './types/SObjects'\nimport Utils from './types/Utils'\n\nexport default {\n  fields: Fields,\n  profiles: Profiles,\n  sObjects: SObjects,\n  utils: Utils\n}","module.exports = require(\"path\");","import ProfileFile from './structures/ProfileFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport * as xml2js from 'xml2js'\nimport { parseBooleans } from 'xml2js/lib/processors'\nimport { PathLike } from \"fs\"\nimport SObjectFieldDefinition from '../sObjects/structures/SObjectFieldDefinition'\nimport AccessType from './structures/AccessType'\nimport SObjectFile from '../sObjects/structures/SObjectFile'\nimport utils from '../utils'\nimport UserPermission from './structures/profile-fields-templates/UserPermission'\nimport FieldPermission from './structures/profile-fields-templates/FieldPermission'\nimport ConfigManager from '../../../config/config-manager'\n\nexport default {\n\n  getObjectsFromMetaData: function (): ProfileFile[] {\n    const p = path.join(ConfigManager.getInstance().getVSCodeRoot() as string, ConfigManager.getInstance().retrieveBackwardCompatibleRootFolder(), 'profiles')\n    const files = fs.readdirSync(p)\n    if (files.length === 0) { throw Error('No Profile definition file was found in folder ' + p) }\n    return this.generateProfilesDefinitions(files, p)\n  },\n\n  generateProfilesDefinitions: function (fileNames: string[], path: fs.PathLike): ProfileFile[] {\n    return fileNames.map(filename => new ProfileFile(filename, path))\n  },\n\n  readProfileDefinitionFile: async function (objDef: ProfileFile): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n      const filePath = path.join(objDef.folder.toString(), objDef.fileName)\n      const fileContent = fs.readFileSync(filePath, { encoding: 'utf-8' })\n      const xmlParser = new xml2js.Parser({ explicitArray: false, valueProcessors: [parseBooleans] })\n      try {\n        const parsedFile: any = await new Promise((resolve, reject) => {\n          xmlParser.parseString(fileContent, (err: any, result: any) => {\n            if (err) { reject(err) }\n            else { resolve(result) }\n          })\n        })\n        resolve(parsedFile)\n      } catch (err) {\n        reject(err)\n      }\n    })\n  },\n\n  writeProfileDefinitionFile: function (fileNamePath: PathLike, stuffToWrite: any) {\n    const builder = new xml2js.Builder({ xmldec: { standalone: undefined, encoding: 'UTF-8', version: '1.0' }, renderOpts: {pretty: true, indent: '    ', newline: '\\n'} })\n    //Probably there's a bug in the builder class\n    const xml = builder.buildObject(stuffToWrite)\n    //130 is the number of characters of the first two lines containing header + root object definition\n    let escaped = xml.substr(0, 130) + xml.substr(130, xml.length - 130).replace(/\"/g, '&quot;').replace(/'/g, '&apos;')\n    fs.writeFileSync(fileNamePath.toString(), escaped, 'utf8')\n  },\n\n  updateProfilesVisibilityForField: async function (profiles: ProfileFile[], fieldsInfos: { sObject: SObjectFile, fields: [SObjectFieldDefinition] }[], accessType: AccessType) {\n    try {\n      profiles.forEach(async profileFile => {\n        const prof = await this.readProfileDefinitionFile(profileFile)\n        const mappedFields = prof.Profile.fieldPermissions.reduce((acc: any, curr: FieldPermission) => {\n          acc[curr.field] = curr\n          return acc\n        }, {})\n        fieldsInfos.forEach(fieldInfo => {\n          fieldInfo.fields.forEach(fieldMeta => {\n            let currField = `${fieldInfo.sObject.label}.${fieldMeta.fullName}`\n            console.log(currField)\n            if (!mappedFields[currField]) {\n              prof.Profile.fieldPermissions.push({\n                readable: accessType !== AccessType.none,\n                field: `${fieldInfo.sObject.label}.${fieldMeta.fullName}`,\n                editable: accessType === AccessType.edit\n              })\n            } else {\n              mappedFields[currField].readable = accessType !== AccessType.none\n              mappedFields[currField].editable = accessType === AccessType.edit\n            }\n          })\n        })\n        prof.Profile.fieldPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'field'))\n        this.writeProfileDefinitionFile(path.join(profileFile.folder.toString(), profileFile.fileName), prof)\n      })\n    } catch (err) {\n      throw Error(`Error updating field-level security for profiles: ${profiles.map(prf => prf.label)}`)\n    }\n  },\n\n  updateProfilesApexClassesAccess: async function (profile: ProfileFile, enabledClasses: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n      prof.Profile.classAccesses.forEach((classAccess: { enabled: boolean; apexClass: string; }) => {\n        classAccess.enabled = enabledClasses.includes(classAccess.apexClass)\n      })\n      prof.Profile.classAccesses.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'apexClass'))\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Apex Class Access for profile: ${profile.label}`)\n    }\n  },\n\n  updateProfilesApexPagesAccess: async function (profile: ProfileFile, enabledPages: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n      prof.Profile.pageAccesses.forEach((pageAccess: { enabled: boolean; apexPage: string; }) => {\n        pageAccess.enabled = enabledPages.includes(pageAccess.apexPage)\n      })\n      prof.Profile.pageAccesses.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'apexPage'))\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  },\n\n  /**\n   * The behaviour is: we check the files and pre-selected the enabled ones.\n   * Then we show the user the entire list and we allow him/her to select the enabled ones\n   * In the end, we turn everything off, turning then on the selected ones and adding the missing ones in\n   * the original file\n   */\n  updateProfilesUserPermissions: async function (profile: ProfileFile, enabledPermissions: string[]) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n\n      const userPermissions: UserPermission[] = prof.Profile.userPermissions\n      const mappedPermissions = userPermissions.reduce((acc: any, current: any) => {\n        acc[current.name] = current\n        return acc\n      }, {})\n\n      //Turn off the ones which are already in the profile metadata file\n      userPermissions.forEach(perm => {\n        perm.enabled = false\n      })\n\n      //Turning on the selected ones, adding the missing ones in the file\n      enabledPermissions.forEach((permission: string) => {\n        if (mappedPermissions[permission]) { mappedPermissions[permission].enabled = true }\n        else { userPermissions.push({ enabled: true, name: permission }) }\n      })\n\n      userPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'name'))\n\n      prof.Profile.userPermissions = userPermissions\n\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  },\n\n  updateProfileSinglePermission: async function (profile: ProfileFile, permission: string, enabled: boolean) {\n    try {\n      const prof = await this.readProfileDefinitionFile(profile)\n\n      const userPermissions: UserPermission[] = prof.Profile.userPermissions\n      let perm = userPermissions.find((perm) => perm.name === permission)\n\n      if (perm) { perm.enabled = enabled }\n      else if (perm === undefined && enabled) {\n        perm = { enabled: true, name: permission }\n        userPermissions.push(perm)\n      }\n\n      userPermissions.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'name'))\n      prof.Profile.userPermissions = userPermissions\n\n      this.writeProfileDefinitionFile(path.join(profile.folder.toString(), profile.fileName), prof)\n    } catch (err) {\n      throw Error(`Error updating Visualforce Page Access for profile: ${profile.label}`)\n    }\n  }\n}","import * as vscode from 'vscode'\nimport TelemetryReporter from 'vscode-extension-telemetry'\nconst fesTa = Buffer.from('NDk1ZjYzOTItNzE1NC00MjNkLThlYzYtMDNhYmRmNjcyMDA3', 'base64').toString()\n\nexport default class Monitor {\n    private monitor?: TelemetryReporter = undefined\n    private static instance: Monitor\n\n    static getInstance(): Monitor {\n        if (this.instance === undefined) {\n          this.instance = new Monitor()\n        }\n        return this.instance\n      }\n\n    init(context: vscode.ExtensionContext) {\n        const extensionId = 'tr4uma.swift-sfdc'\n        const extension = vscode.extensions.getExtension(extensionId)!\n        const extensionVersion = extension.packageJSON.version\n        this.monitor = new TelemetryReporter(extensionId, extensionVersion, fesTa)\n        context.subscriptions.push(this.monitor)\n    }\n\n    sendEvent(tag: string, properties?: {[key: string]: string;}, measurements?: {[key: string]: number;}): void {\n        try{\n            if(this.monitor) { this.monitor.sendTelemetryEvent(tag, properties, measurements) }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    sendError(tag: string, properties?: {[key: string]: string;}, measurements?: {[key: string]: number;}): void {\n        try{\n            if(this.monitor) { this.monitor.sendTelemetryErrorEvent(tag, properties, measurements) }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n\n    dispose(): void {\n        try {\n            if(this.monitor) { this.monitor.dispose() }\n        } catch (err) {\n            console.log(err)\n        }\n    }\n}","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","module.exports = require(\"fs\");","import SwiftSfdcConfiguration from './config'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport MetadataStructure from '../commands/metadatamanagement/profiles/structures/MetadataStructure'\n\nexport default class ConfigManager {\n\n  private static instance: ConfigManager\n\n  static getInstance(): ConfigManager {\n    if (this.instance === undefined) {\n      this.instance = new ConfigManager()\n    }\n    return this.instance\n  }\n\n  private constructor() { this.init() }\n\n  private getCfgPath = () => path.join(this.getVSCodeRoot() as string, '.swift-sfdc.json')\n\n  private _currentConfig: any = undefined\n\n  retrieveBackwardCompatibleRootFolder(): string {\n    let projRoot = this.getConfig().sfRootFolder\n    if(!projRoot) {\n      if(this.autodiscoverProjectStructure() === MetadataStructure.SF_Original) {\n        this.setAntProjectStructure(this.getConfig())\n      } else {\n        this.setSFDXProjectStructure(this.getConfig())\n      }\n      \n    }\n    projRoot = this.getConfig().sfRootFolder\n    return projRoot\n  }\n\n  private setSFDXProjectStructure(config: SwiftSfdcConfiguration) {\n    config.sfRootFolder = './force-app/main/default'\n    config.metadataStructure = MetadataStructure.SF_SFDX\n    config.packageLocation = './manifest/'\n  }\n\n  private setAntProjectStructure(config: SwiftSfdcConfiguration) {\n    config.sfRootFolder = 'src'\n    config.metadataStructure = MetadataStructure.SF_Original\n    config.packageLocation = './'\n  }\n\n  getConfig(): SwiftSfdcConfiguration {\n    return this._currentConfig\n  }\n\n  readConfig(): SwiftSfdcConfiguration | undefined {\n    if (this.getVSCodeRoot() && fs.existsSync(this.getCfgPath())) {\n      const storedCfg = fs.readFileSync(this.getCfgPath(), 'utf8')\n      const cfg: SwiftSfdcConfiguration = JSON.parse(storedCfg)\n      return cfg\n    }\n    return undefined\n  }\n\n  private autodiscoverProjectStructure(): MetadataStructure {\n    console.log('Autodiscoverying Project Structure..')\n    let projStructure = MetadataStructure.SF_SFDX //defaulting to new structure\n    if(fs.existsSync(`${this.getVSCodeRoot()}/src/package.xml`)) {\n      projStructure = MetadataStructure.SF_Original\n    }\n    console.log(`Configured ${projStructure} project structure`)\n    return projStructure\n  }\n\n  private storeConfig(config: SwiftSfdcConfiguration): boolean {\n    try {\n      console.log('Storing configuration..')\n      fs.writeFileSync(this.getCfgPath(), JSON.stringify(config))\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  private setConfig(config: SwiftSfdcConfiguration): boolean {\n    try {\n      const handler: ProxyHandler<SwiftSfdcConfiguration> = {\n        get(target: any, property: PropertyKey) {\n          return target[property]\n        },\n        set(target: any, property: PropertyKey, value: any): boolean {\n          target[property] = value\n          return ConfigManager.getInstance().storeConfig(target)\n        }\n      }\n      this._currentConfig = new Proxy(config, handler)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  init() {\n    console.log('Initializing configuration..')\n    if (this._currentConfig === undefined) {\n      let config = this.readConfig()\n      if (config === undefined) {\n        console.log('Configuration not found, generating a new one')\n        config = new SwiftSfdcConfiguration()\n        if(this.autodiscoverProjectStructure() === MetadataStructure.SF_Original) {\n          this.setAntProjectStructure(config)\n        } else {\n          this.setSFDXProjectStructure(config)\n        }\n      }\n      this.setConfig(config)\n      this.storeConfig(this._currentConfig)\n    }\n  }\n\n  resetToDefault() {\n    console.log('Resetting config to default')\n    this.setConfig(new SwiftSfdcConfiguration())\n    this.storeConfig(this._currentConfig)\n  }\n\n  reloadConfig() {\n    let config = this.readConfig()\n    if (config === undefined) {\n      console.log('Configuration not found, generating a new one')\n      config = new SwiftSfdcConfiguration()\n    }\n    this.setConfig(config)\n    this.storeConfig(this._currentConfig)\n  }\n\n  getVSCodeRoot(): string | undefined {\n    return vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0].uri.path\n  }\n}","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n}).call(this);\n","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","module.exports = require(\"os\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","module.exports = require(\"url\");","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction;\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.isDocument) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attributes = {};\n      ref1 = this.attributes;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, i, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (Array.isArray(name)) {\n        for (i = 0, len = name.length; i < len; i++) {\n          attName = name[i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.set(options).element(this);\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.set(options).cdata(this);\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLComment, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.set(options).comment(this);\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.set(options).declaration(this);\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var ref, ref1;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref = pubID, pubID = ref.pubID, sysID = ref.sysID;\n      }\n      if (sysID == null) {\n        ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.set(options).docType(this);\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdAttList(this);\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdEntity(this);\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdElement(this);\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.set(options).dtdNotation(this);\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.set(options).raw(this);\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.set(options).text(this);\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNode, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.set(options).processingInstruction(this);\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","module.exports = require(\"http\");","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","module.exports = require(\"https\");","export enum SObjectType {\n    SObject,\n    CustomMetadata\n}\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLText, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc) {\n      var child, i, len, r, ref;\n      this.textispresent = false;\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += (function() {\n          switch (false) {\n            case !(child instanceof XMLDeclaration):\n              return this.declaration(child);\n            case !(child instanceof XMLDocType):\n              return this.docType(child);\n            case !(child instanceof XMLComment):\n              return this.comment(child);\n            case !(child instanceof XMLProcessingInstruction):\n              return this.processingInstruction(child);\n            default:\n              return this.element(child, 0);\n          }\n        }).call(this);\n      }\n      if (this.pretty && r.slice(-this.newline.length) === this.newline) {\n        r = r.slice(0, -this.newline.length);\n      }\n      return r;\n    };\n\n    XMLStringWriter.prototype.attribute = function(att) {\n      return ' ' + att.name + '=\"' + att.value + '\"';\n    };\n\n    XMLStringWriter.prototype.cdata = function(node, level) {\n      return this.space(level) + '<![CDATA[' + node.text + ']]>' + this.newline;\n    };\n\n    XMLStringWriter.prototype.comment = function(node, level) {\n      return this.space(level) + '<!-- ' + node.text + ' -->' + this.newline;\n    };\n\n    XMLStringWriter.prototype.declaration = function(node, level) {\n      var r;\n      r = this.space(level);\n      r += '<?xml version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      r += this.spacebeforeslash + '?>';\n      r += this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.docType = function(node, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      r = this.space(level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.newline;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += (function() {\n            switch (false) {\n              case !(child instanceof XMLDTDAttList):\n                return this.dtdAttList(child, level + 1);\n              case !(child instanceof XMLDTDElement):\n                return this.dtdElement(child, level + 1);\n              case !(child instanceof XMLDTDEntity):\n                return this.dtdEntity(child, level + 1);\n              case !(child instanceof XMLDTDNotation):\n                return this.dtdNotation(child, level + 1);\n              case !(child instanceof XMLCData):\n                return this.cdata(child, level + 1);\n              case !(child instanceof XMLComment):\n                return this.comment(child, level + 1);\n              case !(child instanceof XMLProcessingInstruction):\n                return this.processingInstruction(child, level + 1);\n              default:\n                throw new Error(\"Unknown DTD node type: \" + child.constructor.name);\n            }\n          }).call(this);\n        }\n        r += ']';\n      }\n      r += this.spacebeforeslash + '>';\n      r += this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.element = function(node, level) {\n      var att, child, i, j, len, len1, name, r, ref, ref1, ref2, space, textispresentwasset;\n      level || (level = 0);\n      textispresentwasset = false;\n      if (this.textispresent) {\n        this.newline = '';\n        this.pretty = false;\n      } else {\n        this.newline = this.newlinedefault;\n        this.pretty = this.prettydefault;\n      }\n      space = this.space(level);\n      r = '';\n      r += space + '<' + node.name;\n      ref = node.attributes;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att);\n      }\n      if (node.children.length === 0 || node.children.every(function(e) {\n        return e.value === '';\n      })) {\n        if (this.allowEmpty) {\n          r += '></' + node.name + '>' + this.newline;\n        } else {\n          r += this.spacebeforeslash + '/>' + this.newline;\n        }\n      } else if (this.pretty && node.children.length === 1 && (node.children[0].value != null)) {\n        r += '>';\n        r += node.children[0].value;\n        r += '</' + node.name + '>' + this.newline;\n      } else {\n        if (this.dontprettytextnodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if (child.value != null) {\n              this.textispresent++;\n              textispresentwasset = true;\n              break;\n            }\n          }\n        }\n        if (this.textispresent) {\n          this.newline = '';\n          this.pretty = false;\n          space = this.space(level);\n        }\n        r += '>' + this.newline;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += (function() {\n            switch (false) {\n              case !(child instanceof XMLCData):\n                return this.cdata(child, level + 1);\n              case !(child instanceof XMLComment):\n                return this.comment(child, level + 1);\n              case !(child instanceof XMLElement):\n                return this.element(child, level + 1);\n              case !(child instanceof XMLRaw):\n                return this.raw(child, level + 1);\n              case !(child instanceof XMLText):\n                return this.text(child, level + 1);\n              case !(child instanceof XMLProcessingInstruction):\n                return this.processingInstruction(child, level + 1);\n              default:\n                throw new Error(\"Unknown XML node type: \" + child.constructor.name);\n            }\n          }).call(this);\n        }\n        if (textispresentwasset) {\n          this.textispresent--;\n        }\n        if (!this.textispresent) {\n          this.newline = this.newlinedefault;\n          this.pretty = this.prettydefault;\n        }\n        r += space + '</' + node.name + '>' + this.newline;\n      }\n      return r;\n    };\n\n    XMLStringWriter.prototype.processingInstruction = function(node, level) {\n      var r;\n      r = this.space(level) + '<?' + node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      r += this.spacebeforeslash + '?>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.raw = function(node, level) {\n      return this.space(level) + node.value + this.newline;\n    };\n\n    XMLStringWriter.prototype.text = function(node, level) {\n      return this.space(level) + node.value + this.newline;\n    };\n\n    XMLStringWriter.prototype.dtdAttList = function(node, level) {\n      var r;\n      r = this.space(level) + '<!ATTLIST ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.dtdElement = function(node, level) {\n      return this.space(level) + '<!ELEMENT ' + node.name + ' ' + node.value + this.spacebeforeslash + '>' + this.newline;\n    };\n\n    XMLStringWriter.prototype.dtdEntity = function(node, level) {\n      var r;\n      r = this.space(level) + '<!ENTITY';\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.dtdNotation = function(node, level) {\n      var r;\n      r = this.space(level) + '<!NOTATION ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      r += this.spacebeforeslash + '>' + this.newline;\n      return r;\n    };\n\n    XMLStringWriter.prototype.openNode = function(node, level) {\n      var att, name, r, ref;\n      level || (level = 0);\n      if (node instanceof XMLElement) {\n        r = this.space(level) + '<' + node.name;\n        ref = node.attributes;\n        for (name in ref) {\n          if (!hasProp.call(ref, name)) continue;\n          att = ref[name];\n          r += this.attribute(att);\n        }\n        r += (node.children ? '>' : '/>') + this.newline;\n        return r;\n      } else {\n        r = this.space(level) + '<!DOCTYPE ' + node.rootNodeName;\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        r += (node.children ? ' [' : '>') + this.newline;\n        return r;\n      }\n    };\n\n    XMLStringWriter.prototype.closeNode = function(node, level) {\n      level || (level = 0);\n      switch (false) {\n        case !(node instanceof XMLElement):\n          return this.space(level) + '</' + node.name + '>' + this.newline;\n        case !(node instanceof XMLDocType):\n          return this.space(level) + ']>' + this.newline;\n      }\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","module.exports = require(\"timers\");","export default {\n  sortItemsByField: (a: any, b: any, fieldName: string) => {\n    if (a[fieldName] > b[fieldName]) { return 1 }\n    else if (a[fieldName] < b[fieldName]) { return -1 }\n    return 0\n  }\n}","enum AccessType {\n  none,\n  read,\n  edit\n}\n\nexport default AccessType","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","module.exports = require(\"util\");","module.exports = require(\"assert\");","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Date implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'Date'\n    this.required = required\n  }\n}","/**\n * Fetched by retrieving salesforce admin profiles.\n * Might miss some\n * Probably depending on the API version\n */\nenum ProfileUserPermission {\n  ActivateContract = 'ActivateContract',\n  ActivateOrder = 'ActivateOrder',\n  ActivitiesAccess = 'ActivitiesAccess',\n  AddDirectMessageMembers = 'AddDirectMessageMembers',\n  ApexRestServices = 'ApexRestServices',\n  ApiEnabled = 'ApiEnabled',\n  ApproveContract = 'ApproveContract',\n  AssignPermissionSets = 'AssignPermissionSets',\n  AssignTopics = 'AssignTopics',\n  AuthorApex = 'AuthorApex',\n  BulkApiHardDelete = 'BulkApiHardDelete',\n  BulkMacrosAllowed = 'BulkMacrosAllowed',\n  CanInsertFeedSystemFields = 'CanInsertFeedSystemFields',\n  CanUseNewDashboardBuilder = 'CanUseNewDashboardBuilder',\n  CanVerifyComment = 'CanVerifyComment',\n  ChangeDashboardColors = 'ChangeDashboardColors',\n  ChatterEditOwnPost = 'ChatterEditOwnPost',\n  ChatterEditOwnRecordPost = 'ChatterEditOwnRecordPost',\n  ChatterFileLink = 'ChatterFileLink',\n  ChatterInternalUser = 'ChatterInternalUser',\n  ChatterInviteExternalUsers = 'ChatterInviteExternalUsers',\n  ChatterOwnGroups = 'ChatterOwnGroups',\n  ConnectOrgToEnvironmentHub = 'ConnectOrgToEnvironmentHub',\n  ContentAdministrator = 'ContentAdministrator',\n  ContentWorkspaces = 'ContentWorkspaces',\n  ConvertLeads = 'ConvertLeads',\n  CreateAuditFields = 'CreateAuditFields',\n  CreateCustomizeDashboards = 'CreateCustomizeDashboards',\n  CreateCustomizeFilters = 'CreateCustomizeFilters',\n  CreateCustomizeReports = 'CreateCustomizeReports',\n  CreateDashboardFolders = 'CreateDashboardFolders',\n  CreatePackaging = 'CreatePackaging',\n  CreateReportFolders = 'CreateReportFolders',\n  CreateTopics = 'CreateTopics',\n  CreateWorkBadgeDefinition = 'CreateWorkBadgeDefinition',\n  CreateWorkspaces = 'CreateWorkspaces',\n  CustomizeApplication = 'CustomizeApplication',\n  DataExport = 'DataExport',\n  DelegatedTwoFactor = 'DelegatedTwoFactor',\n  DeleteActivatedContract = 'DeleteActivatedContract',\n  DeleteTopics = 'DeleteTopics',\n  DistributeFromPersWksp = 'DistributeFromPersWksp',\n  EditActivatedOrders = 'EditActivatedOrders',\n  EditBrandTemplates = 'EditBrandTemplates',\n  EditCaseComments = 'EditCaseComments',\n  EditEvent = 'EditEvent',\n  EditHtmlTemplates = 'EditHtmlTemplates',\n  EditMyDashboards = 'EditMyDashboards',\n  EditMyReports = 'EditMyReports',\n  EditOppLineItemUnitPrice = 'EditOppLineItemUnitPrice',\n  EditPublicDocuments = 'EditPublicDocuments',\n  EditPublicFilters = 'EditPublicFilters',\n  EditPublicTemplates = 'EditPublicTemplates',\n  EditReadonlyFields = 'EditReadonlyFields',\n  EditTask = 'EditTask',\n  EditTopics = 'EditTopics',\n  EmailMass = 'EmailMass',\n  EmailSingle = 'EmailSingle',\n  EnableNotifications = 'EnableNotifications',\n  ExportReport = 'ExportReport',\n  GiveRecognitionBadge = 'GiveRecognitionBadge',\n  ImportCustomObjects = 'ImportCustomObjects',\n  ImportLeads = 'ImportLeads',\n  ImportPersonal = 'ImportPersonal',\n  InboundMigrationToolsUser = 'InboundMigrationToolsUser',\n  InstallPackaging = 'InstallPackaging',\n  LightningConsoleAllowedForUser = 'LightningConsoleAllowedForUser',\n  LightningExperienceUser = 'LightningExperienceUser',\n  ListEmailSend = 'ListEmailSend',\n  ManageAnalyticSnapshots = 'ManageAnalyticSnapshots',\n  ManageAuthProviders = 'ManageAuthProviders',\n  ManageBusinessHourHolidays = 'ManageBusinessHourHolidays',\n  ManageCallCenters = 'ManageCallCenters',\n  ManageCases = 'ManageCases',\n  ManageCategories = 'ManageCategories',\n  ManageCertificates = 'ManageCertificates',\n  ManageContentPermissions = 'ManageContentPermissions',\n  ManageContentProperties = 'ManageContentProperties',\n  ManageContentTypes = 'ManageContentTypes',\n  ManageCssUsers = 'ManageCssUsers',\n  ManageCustomPermissions = 'ManageCustomPermissions',\n  ManageCustomReportTypes = 'ManageCustomReportTypes',\n  ManageDashbdsInPubFolders = 'ManageDashbdsInPubFolders',\n  ManageDataCategories = 'ManageDataCategories',\n  ManageDataIntegrations = 'ManageDataIntegrations',\n  ManageDynamicDashboards = 'ManageDynamicDashboards',\n  ManageEmailClientConfig = 'ManageEmailClientConfig',\n  ManageExchangeConfig = 'ManageExchangeConfig',\n  ManageHealthCheck = 'ManageHealthCheck',\n  ManageInteraction = 'ManageInteraction',\n  ManageInternalUsers = 'ManageInternalUsers',\n  ManageIpAddresses = 'ManageIpAddresses',\n  ManageLeads = 'ManageLeads',\n  ManageLoginAccessPolicies = 'ManageLoginAccessPolicies',\n  ManageMobile = 'ManageMobile',\n  ManageNetworks = 'ManageNetworks',\n  ManagePackageLicenses = 'ManagePackageLicenses',\n  ManagePartners = 'ManagePartners',\n  ManagePasswordPolicies = 'ManagePasswordPolicies',\n  ManageProfilesPermissionsets = 'ManageProfilesPermissionsets',\n  ManagePvtRptsAndDashbds = 'ManagePvtRptsAndDashbds',\n  ManageQuotas = 'ManageQuotas',\n  ManageRemoteAccess = 'ManageRemoteAccess',\n  ManageReportsInPubFolders = 'ManageReportsInPubFolders',\n  ManageRoles = 'ManageRoles',\n  ManageSharing = 'ManageSharing',\n  ManageSolutions = 'ManageSolutions',\n  ManageSynonyms = 'ManageSynonyms',\n  ManageTranslation = 'ManageTranslation',\n  ManageUnlistedGroups = 'ManageUnlistedGroups',\n  ManageUsers = 'ManageUsers',\n  MergeTopics = 'MergeTopics',\n  ModerateChatter = 'ModerateChatter',\n  ModifyAllData = 'ModifyAllData',\n  ModifyMetadata = 'ModifyMetadata',\n  NewReportBuilder = 'NewReportBuilder',\n  OutboundMigrationToolsUser = 'OutboundMigrationToolsUser',\n  OverrideForecasts = 'OverrideForecasts',\n  Packaging2 = 'Packaging2',\n  PublishPackaging = 'PublishPackaging',\n  RemoveDirectMessageMembers = 'RemoveDirectMessageMembers',\n  ResetPasswords = 'ResetPasswords',\n  RunFlow = 'RunFlow',\n  RunReports = 'RunReports',\n  ScheduleJob = 'ScheduleJob',\n  ScheduleReports = 'ScheduleReports',\n  SelectFilesFromSalesforce = 'SelectFilesFromSalesforce',\n  SendSitRequests = 'SendSitRequests',\n  ShowCompanyNameAsUserBadge = 'ShowCompanyNameAsUserBadge',\n  SolutionImport = 'SolutionImport',\n  SubmitMacrosAllowed = 'SubmitMacrosAllowed',\n  SubscribeDashboardToOtherUsers = 'SubscribeDashboardToOtherUsers',\n  SubscribeReportToOtherUsers = 'SubscribeReportToOtherUsers',\n  SubscribeReportsRunAsUser = 'SubscribeReportsRunAsUser',\n  SubscribeToLightningDashboards = 'SubscribeToLightningDashboards',\n  SubscribeToLightningReports = 'SubscribeToLightningReports',\n  TransactionalEmailSend = 'TransactionalEmailSend',\n  TransferAnyCase = 'TransferAnyCase',\n  TransferAnyEntity = 'TransferAnyEntity',\n  TransferAnyLead = 'TransferAnyLead',\n  UpdateWithInactiveOwner = 'UpdateWithInactiveOwner',\n  UseTeamReassignWizards = 'UseTeamReassignWizards',\n  UseWebLink = 'UseWebLink',\n  ViewAllData = 'ViewAllData',\n  ViewAllForecasts = 'ViewAllForecasts',\n  ViewAllUsers = 'ViewAllUsers',\n  ViewDataAssessment = 'ViewDataAssessment',\n  ViewDataCategories = 'ViewDataCategories',\n  ViewEventLogFiles = 'ViewEventLogFiles',\n  ViewHealthCheck = 'ViewHealthCheck',\n  ViewHelpLink = 'ViewHelpLink',\n  ViewMyTeamsDashboards = 'ViewMyTeamsDashboards',\n  ViewPublicDashboards = 'ViewPublicDashboards',\n  ViewPublicReports = 'ViewPublicReports',\n  ViewRoles = 'ViewRoles',\n  ViewSetup = 'ViewSetup'\n}\n\nexport default ProfileUserPermission","import SObjectFile from './structures/SObjectFile'\nimport * as path from 'path'\nimport * as fs from 'fs'\nimport * as xml2js from 'xml2js'\nimport { parseBooleans } from 'xml2js/lib/processors'\nimport ConfigManager from '../../../config/config-manager'\nimport utils from '../utils'\n\nexport default {\n\n  getObjectsFromMetaData: function (): SObjectFile[] {\n    const p = path.join(ConfigManager.getInstance().getVSCodeRoot() as string, ConfigManager.getInstance().retrieveBackwardCompatibleRootFolder(), 'objects')\n    const files = fs.readdirSync(p, { withFileTypes: true })\n    if (files.length === 0) { throw Error('No SObject definition file was found in folder ' + p) }\n    return this.generateSObjectDefinitions(files, p)\n  },\n\n  generateSObjectDefinitions: function (files: fs.Dirent[], path: fs.PathLike): SObjectFile[] {\n    return files.map(file => new SObjectFile(file, path))\n  },\n\n  readSObjectDefinitionFile: async function (objDef: SObjectFile): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n      const filePath = path.join(objDef.folder.toString(), objDef.fileName)\n      if(!objDef.isDirectory) {\n        const fileContent = fs.readFileSync(filePath, { encoding: 'utf-8' })\n        const xmlParser = new xml2js.Parser({ explicitArray: false, valueProcessors: [parseBooleans] })\n        try {\n          const parsedFile: any = await new Promise((resolve, reject) => {\n            xmlParser.parseString(fileContent, (err: any, result: any) => {\n              if (err) { reject(err) }\n              else { resolve(result) }\n            })\n          })\n          resolve(parsedFile)\n        } catch (err) {\n          reject(err)\n        }\n      } else {\n        const fields = fs.readdirSync(path.join(filePath, 'fields'))\n        let objDef = { CustomObject: {  fields: [] as any } } //fake SObject definition cause we only care about fields\n        const fieldsArr = await Promise.all(fields.map(field => {\n          return new Promise((resolve, reject) => {\n            const fileContent = fs.readFileSync(path.join(filePath, 'fields', field), { encoding: 'utf-8' })\n            const xmlParser = new xml2js.Parser({ explicitArray: false, valueProcessors: [parseBooleans] })\n            try {\n              const parsedFile: any = xmlParser.parseString(fileContent, (err: any, result: any) => {\n                console.log(result)\n                if (err) { reject(err) }\n                else { resolve(result.CustomField) }\n              })\n            } catch (err) {\n              reject(err)\n            }\n          })\n        }))\n        objDef.CustomObject.fields = fieldsArr\n        objDef.CustomObject.fields.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'fullName'))\n        resolve(objDef)\n        \n      }\n    })\n  },\n\n  writeSObjectDefinitionFile: async function (sObjFile: SObjectFile, stuffToWrite: any): Promise<void> {\n    return new Promise(async (resolve, reject) => {\n      if(!sObjFile.isDirectory) {\n        try {\n          const fileNamePath = path.join(sObjFile.folder.toString(), sObjFile.fileName)\n          const builder = new xml2js.Builder({ xmldec: { standalone: undefined, encoding: 'UTF-8', version: '1.0' } })\n          //Probably there's a bug in the builder class\n          const xml = builder.buildObject(stuffToWrite)\n          //130 is the number of characters of the first two lines containing header + root object definition\n          let escaped = xml.substr(0, 130) + xml.substr(130, xml.length - 130).replace(/\"/g, '&quot;').replace(/'/g, '&apos;')\n          fs.writeFileSync(fileNamePath.toString(), escaped, 'utf8')\n          resolve()\n        } catch (err) {\n          reject(err)\n        }\n      } else {\n        let fieldsToAdd = stuffToWrite.CustomObject.fields.filter((el: { isNew: boolean }) => el.isNew)\n        await Promise.all(fieldsToAdd.map((fieldToAdd: { fullName: any, isNew: any, $: any }) => {\n          return new Promise((resolve, reject) => {\n            try {\n            const fileNamePath = path.join(sObjFile.folder.toString(), sObjFile.fileName, 'fields', `${fieldToAdd.fullName}.field-meta.xml`)\n            const builder = new xml2js.Builder({ xmldec: { standalone: undefined, encoding: 'UTF-8', version: '1.0' }, renderOpts: {pretty: true, indent: '    ', newline: '\\n'} })\n            \n            delete fieldToAdd.isNew\n            fieldToAdd['$'] = { xmlns: 'http://soap.sforce.com/2006/04/metadata'}\n            let fieldObj = { CustomField: fieldToAdd}\n            const xml = builder.buildObject(fieldObj)\n            fs.writeFileSync(fileNamePath.toString(), xml, 'utf8')\n            resolve(true)\n            } catch (err) {\n              reject(false)\n            }\n          })\n        }))\n        resolve()\n      }\n    })\n    \n  }\n}","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute;\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.options = parent.options;\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.set(options).attribute(this);\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.noDoubleEncoding = options.noDoubleEncoding;\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return val = '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var res;\n      res = str.match(/[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/);\n      if (res) {\n        throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLWriterBase,\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, ref1, ref2, ref3, ref4, ref5, ref6, value;\n      options || (options = {});\n      this.pretty = options.pretty || false;\n      this.allowEmpty = (ref = options.allowEmpty) != null ? ref : false;\n      if (this.pretty) {\n        this.indent = (ref1 = options.indent) != null ? ref1 : '  ';\n        this.newline = (ref2 = options.newline) != null ? ref2 : '\\n';\n        this.offset = (ref3 = options.offset) != null ? ref3 : 0;\n        this.dontprettytextnodes = (ref4 = options.dontprettytextnodes) != null ? ref4 : 0;\n      } else {\n        this.indent = '';\n        this.newline = '';\n        this.offset = 0;\n        this.dontprettytextnodes = 0;\n      }\n      this.spacebeforeslash = (ref5 = options.spacebeforeslash) != null ? ref5 : '';\n      if (this.spacebeforeslash === true) {\n        this.spacebeforeslash = ' ';\n      }\n      this.newlinedefault = this.newline;\n      this.prettydefault = this.pretty;\n      ref6 = options.writer || {};\n      for (key in ref6) {\n        if (!hasProp.call(ref6, key)) continue;\n        value = ref6[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.set = function(options) {\n      var key, ref, value;\n      options || (options = {});\n      if (\"pretty\" in options) {\n        this.pretty = options.pretty;\n      }\n      if (\"allowEmpty\" in options) {\n        this.allowEmpty = options.allowEmpty;\n      }\n      if (this.pretty) {\n        this.indent = \"indent\" in options ? options.indent : '  ';\n        this.newline = \"newline\" in options ? options.newline : '\\n';\n        this.offset = \"offset\" in options ? options.offset : 0;\n        this.dontprettytextnodes = \"dontprettytextnodes\" in options ? options.dontprettytextnodes : 0;\n      } else {\n        this.indent = '';\n        this.newline = '';\n        this.offset = 0;\n        this.dontprettytextnodes = 0;\n      }\n      this.spacebeforeslash = \"spacebeforeslash\" in options ? options.spacebeforeslash : '';\n      if (this.spacebeforeslash === true) {\n        this.spacebeforeslash = ' ';\n      }\n      this.newlinedefault = this.newline;\n      this.prettydefault = this.pretty;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n      return this;\n    };\n\n    XMLWriterBase.prototype.space = function(level) {\n      var indent;\n      if (this.pretty) {\n        indent = (level || 0) + this.offset + 1;\n        if (indent > 0) {\n          return new Array(indent).join(this.indent);\n        } else {\n          return '';\n        }\n      } else {\n        return '';\n      }\n    };\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","module.exports = require(\"stream\");","module.exports = require(\"events\");","/**\n * Fetched by retrieving salesforce admin profiles.\n * Might miss some\n * Probably depending on the API version\n */\n enum MetadataStructure {\n    SF_Original = 'Original',\n    SF_SFDX = 'SFDX',\n  }\n  \n  export default MetadataStructure","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","module.exports = require(\"module\");","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"zlib\");","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","'use strict'\n// The module 'vscode' contains the VS Code extensibility API\n// Import the module and reference it with the alias vscode in your code below\nimport * as vscode from 'vscode'\nimport cmd from './commands'\nimport ConfigManager from './config/config-manager'\nimport Monitor from './monitoring/monitor'\n\n// this method is called when your extension is activated\n// your extension is activated the very first time the command is executed\nexport function activate(context: vscode.ExtensionContext) {\n\n  console.log('Managing configuration...')\n\n  const cfgMgr = ConfigManager.getInstance()\n\n  // Use the console to output diagnostic information (console.log) and errors (console.error)\n  // This line of code will only be executed once when your extension is activated\n\n  // The command has been defined in the package.json file\n  // Now provide the implementation of the command with registerCommand\n  // The commandId parameter must match the command field in package.json\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.createField', cmd.createField))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureDefaultFieldsProfiles', cmd.configureDefaultFieldsProfiles))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesApexClasses', cmd.configureProfilesApexClasses))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesApexPages', cmd.configureProfilesApexPages))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesUserPermissions', cmd.configureProfilesUserPermissions))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureCrossProfileUserPermission', cmd.configureCrossProfileUserPermission))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.configureProfilesFLS', cmd.configureProfilesFLS))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.resetConfig', cmd.resetConfig))\n  context.subscriptions.push(vscode.commands.registerCommand('SwiftSfdc.reloadConfig', cmd.reloadConfig))\n\n\n  vscode.commands.executeCommand('setContext', 'swift-sfdc-active', true)\n\n  Monitor.getInstance().init(context)\n\n  Monitor.getInstance().sendEvent('init')\n\n  console.log('Congratulations, your extension \"swift-sfdc\" is now active!')\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() { \n  Monitor.getInstance().dispose()\n }\n","import createField from './create-field'\nimport configureDefaultFieldsProfiles from './configure-default-fields-profiles'\nimport configureProfilesApexClasses from './configure-profiles-apex-classes'\nimport configureProfilesApexPages from './configure-profiles-apex-pages'\nimport configureProfilesUserPermissions from './configure-profiles-user-permissions'\nimport configureCrossProfileUserPermission from './configure-cross-profile-user-permission'\nimport configureProfilesFLS from './configure-profiles-fls'\nimport resetConfig from './reset-config'\nimport reloadConfig from './reload-config'\n\nexport default {\n  createField,\n  configureDefaultFieldsProfiles,\n  configureProfilesApexClasses,\n  configureProfilesApexPages,\n  configureProfilesUserPermissions,\n  configureCrossProfileUserPermission,\n  configureProfilesFLS,\n  resetConfig,\n  reloadConfig\n}","import * as vscode from 'vscode'\nimport * as path from 'path'\nimport SObjectFile from './metadatamanagement/sObjects/structures/SObjectFile'\nimport SObjectFieldType from './metadatamanagement/sObjects/structures/SObjectFieldType'\nimport SObjectFieldDefinition from './metadatamanagement/sObjects/structures/SObjectFieldDefinition'\nimport SObjectFieldBuilders from './builders/SObjectFieldBuilders'\nimport sObjFileMgr from './metadatamanagement/sObjects/SObjectFilesManager'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport ConfigManager from '../config/config-manager'\nimport AccessType from './metadatamanagement/profiles/structures/AccessType'\nimport utils from './metadatamanagement/utils'\nimport Prompts from './builders/prompts/Prompts'\nimport { SObjectType } from './metadatamanagement/sObjects/structures/SObjectType'\nimport Monitor from '../monitoring/monitor'\n\n\n// SFDC Metadata types selection\nasync function pickSObjectType(sObjectDefinitions: SObjectFile[]): Promise<SObjectFile | undefined> {\n  const res: SObjectFile | undefined = await vscode.window.showQuickPick(sObjectDefinitions, { ignoreFocusOut: true, placeHolder: 'Select an SObject Type' })\n  return res\n}\n\nasync function fieldCreationWizard(otherFields: SObjectFieldDefinition[], availableSObjectsList: string[]): Promise<SObjectFieldDefinition> {\n  let forbiddenApiNames = otherFields.map(field => field.fullName)\n  return new Promise(async (resolve, reject) => {\n    try {\n      const pickedFieldType = await pickSObjectFieldType()\n      let obj: SObjectFieldDefinition = await SObjectFieldBuilders[pickedFieldType](forbiddenApiNames, availableSObjectsList)\n      obj.isNew = true\n      resolve(obj)\n    } catch (err) {\n      reject(err)\n    }\n  })\n}\n\nasync function pickSObjectFieldType(): Promise<SObjectFieldType> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(Object.keys(SObjectFieldType).map(el => { return { label: el, value: el } }), { ignoreFocusOut: true, placeHolder: 'Select a Field Type' })\n    res !== undefined ? resolve(res.value) : reject('Field Creation Aborted')\n  })\n}\n\n// Main functionality\nexport default async function createField() {\n  Monitor.getInstance().sendEvent('createField')\n  try {\n    const SObjectFiles = await sObjFileMgr.getObjectsFromMetaData()\n    const pickedSObject: SObjectFile = await Prompts.sObjects.pickOne(SObjectFiles)\n\n    const objectDefinition: any = await sObjFileMgr.readSObjectDefinitionFile(pickedSObject)\n    const sObjectFieldDefinition: SObjectFieldDefinition = await fieldCreationWizard(objectDefinition.CustomObject.fields, SObjectFiles.map(file => file.label))\n    \n\n    objectDefinition.CustomObject.fields.push(sObjectFieldDefinition)\n    objectDefinition.CustomObject.fields.sort((a: any, b: any) => utils.sortItemsByField(a, b, 'fullName'))\n\n    await sObjFileMgr.writeSObjectDefinitionFile(pickedSObject, objectDefinition)\n\n    if (pickedSObject.sObjectType === SObjectType.SObject) {\n      ProfilesFileMgr.updateProfilesVisibilityForField(ConfigManager.getInstance().getConfig().defaultProfiles || [], [{ sObject: pickedSObject, fields: [sObjectFieldDefinition] }], AccessType.edit)\n    }\n\n    vscode.window.showInformationMessage(`Field '${sObjectFieldDefinition.fullName}' was created on SObject ${pickedSObject.label} and enabled as editable for profiles: ${(ConfigManager.getInstance().getConfig().defaultProfiles || []).map(p => p.label)}`)\n\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('createField', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","enum SObjectFieldType {\n  Checkbox = 'Checkbox',\n  //Picklist = 'Picklist',\n  Number = 'Number',\n  Email = 'Email',\n  Text = 'Text',\n  Lookup = 'Lookup',\n  LongTextArea = 'LongTextArea',\n  Date = 'Date',\n  //MultiselectPicklist = 'MultiselectPicklist',\n  DateTime = 'DateTime',\n  TextArea = 'TextArea',\n  Phone = 'Phone',\n  //Summary = 'Summary',\n  //Hierarchy = 'Hierarchy',\n  //AutoNumber = 'AutoNumber',\n  //Percent = 'Percent'\n}\n\nexport default SObjectFieldType","import * as SObjectFieldTemplates from '../metadatamanagement/sObjects/structures/SObjectFieldTemplates'\nimport Prompt from './prompts/Prompts'\n\nasync function checkboxBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Checkbox> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let defaultValue: any = await Prompt.fields.defaultValue([{ label: 'False', value: false }, { label: 'True', value: true }])\n      resolve(new SObjectFieldTemplates.Checkbox(apiName, label, required, defaultValue))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function textBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Text> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let length: string = await Prompt.fields.stringLength(1, 255, 255)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Text(apiName, label, externalId, required, length, unique))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function emailBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Email> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Email(apiName, label, externalId, required, unique))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function dateBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Date> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.Date(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function datetimeBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.DateTime> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.DateTime(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function phoneBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Phone> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      resolve(new SObjectFieldTemplates.Phone(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function textAreaBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.TextArea> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = false\n      resolve(new SObjectFieldTemplates.TextArea(apiName, label, externalId, required))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function longTextAreaBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.LongTextArea> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let length: string = await Prompt.fields.stringLength(256, 131072, 32768)\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = false\n      resolve(new SObjectFieldTemplates.LongTextArea(apiName, label, externalId, required, length))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function numberBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Number> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let [precision, scale] = await Prompt.fields.precisionAndScale()\n      let required: boolean = await Prompt.fields.isRequired()\n      let externalId: boolean = await Prompt.fields.isExternalId()\n      let unique: boolean = await Prompt.fields.isUnique()\n      resolve(new SObjectFieldTemplates.Number(apiName, label, externalId, required, unique, precision, scale))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\nasync function lookupBuilder(forbiddenApiNames: string[], availableSObjectsList: string[]): Promise<SObjectFieldTemplates.Lookup> {\n  return new Promise(async (resolve, reject) => {\n    try {\n      let label: string = await Prompt.fields.label()\n      let apiName: string = await Prompt.fields.apiName(label, forbiddenApiNames)\n      let required: boolean = await Prompt.fields.isRequired()\n      let referenceTo: string = await Prompt.fields.lookupTarget(availableSObjectsList)\n      let relationshipLabel = await Prompt.fields.relationshipLabel()\n      let relationshipName = await Prompt.fields.relationshipApiName(relationshipLabel)\n      resolve(new SObjectFieldTemplates.Lookup(apiName, label, required, referenceTo, relationshipLabel, relationshipName))\n    } catch (err) {\n      reject('Field Creation Aborted')\n    }\n  })\n}\n\n\nexport default { Checkbox: checkboxBuilder, Text: textBuilder, Email: emailBuilder, Date: dateBuilder, DateTime: datetimeBuilder, Phone: phoneBuilder, TextArea: textAreaBuilder, LongTextArea: longTextAreaBuilder, Number: numberBuilder, Lookup: lookupBuilder }","import Text from './field-templates/Text'\nimport Checkbox from './field-templates/Checkbox'\nimport Email from './field-templates/Email'\nimport Date from './field-templates/Date'\nimport DateTime from './field-templates/Date'\nimport Phone from './field-templates/Phone'\nimport TextArea from './field-templates/TextArea'\nimport LongTextArea from './field-templates/LongTextArea'\nimport Number from './field-templates/Number'\nimport Lookup from './field-templates/Lookup'\n\nexport { Checkbox, Text, Email, Date, DateTime, Phone, TextArea, LongTextArea, Number, Lookup }","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Text implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n  length: string\n  unique: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, length: string, unique: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = true\n    }\n    this.label = label\n    this.type = 'Text'\n    this.required = required\n    this.length = length\n    this.unique = unique\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Checkbox implements SObjectFieldDefinition {\n  fullName: string\n  defaultValue: boolean\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, required: boolean, defaultValue: boolean) {\n    this.fullName = fullName\n    this.externalId = false\n    this.label = label\n    this.type = 'Checkbox'\n    this.required = required\n    this.defaultValue = defaultValue\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Email implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n  unique: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, unique: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = false\n    }\n    this.label = label\n    this.type = 'Email'\n    this.required = required\n    this.unique = unique\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Phone implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  caseSensitive: boolean | undefined\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    if (this.externalId) {\n      this.caseSensitive = true\n    }\n    this.label = label\n    this.type = 'Phone'\n    this.required = required\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class TextArea implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'TextArea'\n    this.required = required\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class LongTextArea implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  length: string\n  visibleLines: string\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, length: string) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'LongTextArea'\n    this.required = required\n    this.length = length\n    this.visibleLines = '3'\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Number implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  unique: boolean\n  precision: number\n  scale: number\n\n  constructor(fullName: string, label: string, externalId: boolean, required: boolean, unique: boolean, precision: number, scale: number) {\n    this.fullName = fullName\n    this.externalId = externalId\n    this.label = label\n    this.type = 'Number'\n    this.required = required\n    this.unique = unique\n    this.precision = precision\n    this.scale = scale\n  }\n}","import SObjectFieldDefinition from \"../SObjectFieldDefinition\"\n\nexport default class Lookup implements SObjectFieldDefinition {\n  fullName: string\n  externalId: boolean\n  label: string\n  type: string\n  required: boolean\n  deleteConstraint: string\n  referenceTo: string\n  relationshipLabel: string\n  relationshipName: string\n\n  constructor(fullName: string, label: string, required: boolean, referenceTo: string, relationshipLabel: string, relationshipName: string) {\n    this.fullName = fullName\n    this.externalId = false\n    this.label = label\n    this.type = 'Lookup'\n    this.required = required\n    this.deleteConstraint = 'setNull'\n    this.referenceTo = referenceTo\n    this.relationshipLabel = relationshipLabel\n    this.relationshipName = relationshipName\n\n  }\n}","import * as vscode from 'vscode'\n\nasync function promptForFieldLabel(): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const fieldName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Label',\n            validateInput: (value: string): string | undefined => {\n                return value.length > 40 || value.length < 1 ? 'Field Labels cannot exceed 40 characters' : undefined\n            }\n        })\n        fieldName ? resolve(fieldName) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRequiredField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const required = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field Required?' })\n        required ? resolve(required.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForFieldApiName(label: string, forbiddenApiNames: string[]): Promise<string> {\n    //Removing spaces and accented characters and appending __c\n    const escaped = label.normalize('NFD').replace(/[\\u0300-\\u036f]|\\s*/g, '') + '__c'\n\n    return new Promise(async (resolve, reject) => {\n        const fieldName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field ApiName',\n            value: escaped,\n            valueSelection: [0, escaped.length - 3],\n            prompt: 'Only normal letters and underscores are allowed. Must end with \\'__c\\'',\n            validateInput: (value: string): string | undefined => {\n                if (!(/^[[a-zA-Z0-9_]{1,40}(?<!_)__c$/.test(value))) { return 'Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores (\\'_\\') and terminate with \\'__c\\'.' }\n                if (forbiddenApiNames.indexOf(value) !== -1) { return 'Another Field with the same Api Name already exists on the object.' }\n                return undefined\n            }\n        })\n        fieldName ? resolve(fieldName) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForStringLength(minLength: number, maxLength: number, defaultValue: number): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const regex = new RegExp(`^[0-9]{${minLength.toString().length},${maxLength.toString().length}}$`)\n        const fieldLength: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Maximum Length',\n            value: defaultValue.toString(),\n            valueSelection: [0, defaultValue.toString().length],\n            prompt: `Insert a number between ${minLength} and ${maxLength}`,\n            validateInput: (value: string): string | undefined => {\n                if (!(regex.test(value)) || Number(value) > maxLength || Number(value) < minLength) { return `Only a number between ${minLength} and ${maxLength} is allowed.` }\n                return undefined\n            }\n        })\n        fieldLength ? resolve(fieldLength) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForExternalIdField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const isExternalId = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field an External ID?' })\n        isExternalId ? resolve(isExternalId.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForUniqueField(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const isUnique = await vscode.window.showQuickPick([{ label: 'False', value: false }, { label: 'True', value: true }], { ignoreFocusOut: true, placeHolder: 'Is the field Unique?' })\n        isUnique ? resolve(isUnique.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForDefaultValue(possibleValues: any[]): Promise<any> {\n    return new Promise(async (resolve, reject) => {\n        const defaultValue = await vscode.window.showQuickPick(possibleValues, { ignoreFocusOut: true, placeHolder: 'What\\s the default value of the field?' })\n        defaultValue ? resolve(defaultValue.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForPrecisionAndScale(): Promise<[number, number]> {\n    return new Promise(async (resolve, reject) => {\n        const regex = new RegExp(`^[0-9]{1,2},[0-9]{1,2}$`)\n        const precisionAndScale: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Field Precision and Scale, separated by comma',\n            value: '18,0',\n            valueSelection: [0, 2],\n            prompt: 'Format is: [Number of digits to the left of the decimal point],[Number of digits to the right of the decimal point]',\n            validateInput: (value: string): string | undefined => {\n                let [precision, scale] = value.split(',')\n                if (!(regex.test(value)) || Number(precision) + Number(scale) > 18) { return 'Up to 18 digits are allowed, divided amongst digits to the left of the decimal point and digits to its right, in the format [digits to the left],[digits to the right]. i.e: 16,2' }\n                return undefined\n            }\n        })\n        if (precisionAndScale) {\n            let [precision, scale] = precisionAndScale.split(',')\n            resolve([Number(precision), Number(scale)])\n        } else {\n            reject('Field Creation Aborted')\n        }\n    })\n}\n\nasync function promptForLookupTarget(availableSObjectsList: string[]): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const pickedSObj = await vscode.window.showQuickPick(availableSObjectsList.map(obj => {\n            return { label: obj, value: obj }\n        }), { ignoreFocusOut: true, placeHolder: 'Relationship target SObject?' })\n        pickedSObj ? resolve(pickedSObj.value) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRelationshipLabel(): Promise<string> {\n    return new Promise(async (resolve, reject) => {\n        const relLabel: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Child Relationship Label',\n            validateInput: (value: string): string | undefined => {\n                return value.length > 40 || value.length < 1 ? 'Child Relationship Label cannot exceed 40 characters' : undefined\n            }\n        })\n        relLabel ? resolve(relLabel) : reject('Field Creation Aborted')\n    })\n}\n\nasync function promptForRelationshipApiName(label: string): Promise<string> {\n    const escaped = label.normalize('NFD').replace(/[\\u0300-\\u036f]|\\s*/g, '')\n\n    return new Promise(async (resolve, reject) => {\n        const relApiName: string | undefined = await vscode.window.showInputBox({\n            ignoreFocusOut: true,\n            placeHolder: 'Insert Child Relationship Api Name',\n            value: escaped,\n            valueSelection: [0, escaped.length - 1],\n            prompt: 'Only normal letters and underscores are allowed.',\n            validateInput: (value: string): string | undefined => {\n                if (!(/^[[a-zA-Z0-9_]{3,40}(?<!_)$/.test(value))) { return 'Invalid Api Name. Must only use Uppercase or Lowercase Letters, numbers, underscores (\\'_\\') and cannot exceed 40 characters' }\n                return undefined\n            }\n        })\n        relApiName ? resolve(relApiName) : reject('Field Creation Aborted')\n    })\n}\n\nexport default {\n    defaultValue: promptForDefaultValue,\n    isUnique: promptForUniqueField,\n    isExternalId: promptForExternalIdField,\n    stringLength: promptForStringLength,\n    apiName: promptForFieldApiName,\n    isRequired: promptForRequiredField,\n    label: promptForFieldLabel,\n    precisionAndScale: promptForPrecisionAndScale,\n    lookupTarget: promptForLookupTarget,\n    relationshipLabel: promptForRelationshipLabel,\n    relationshipApiName: promptForRelationshipApiName\n}","import * as vscode from 'vscode'\nimport ProfileFile from '../../../metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileUserPermission from '../../../metadatamanagement/profiles/structures/ProfileUserPermission'\n\nasync function pickOne(profiles: ProfileFile[]): Promise<ProfileFile> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(profiles, { ignoreFocusOut: true, placeHolder: 'Select the Profile you want to define Apex Class Access' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nasync function pickMany(profiles: ProfileFile[], preselected: string[] = []): Promise<ProfileFile[]> {\n  let selected: string[] = preselected || []\n\n  const profilesOptions = profiles.map(prof => {\n    return { ...prof, picked: selected.includes(prof.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(profilesOptions, { ignoreFocusOut: true, placeHolder: 'Select all Profiles you want to add fields visibility after creation by default.', canPickMany: true })\n    if (res !== undefined) {\n      res.forEach((element: { picked: boolean }) => {\n        delete element.picked\n      })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nasync function pickUserPermission(): Promise<string> {\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(Object.keys(ProfileUserPermission), { ignoreFocusOut: true, placeHolder: 'Select the User Permission you want to check on all profiles' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('User Permission choice Aborted')\n    }\n  })\n}\n\nexport default {\n  pickOne,\n  pickMany,\n  pickUserPermission\n}","import * as vscode from 'vscode'\nimport SObjectFile from \"../../../metadatamanagement/sObjects/structures/SObjectFile\"\n\nasync function pickSObjectType(sObjectDefinitions: SObjectFile[]): Promise<SObjectFile> {\n\n  return new Promise(async (resolve, reject) => {\n    const res: SObjectFile | undefined = await vscode.window.showQuickPick(sObjectDefinitions, { ignoreFocusOut: true, placeHolder: 'Select an SObject Type' })\n    if (res !== undefined) {\n      resolve(res)\n    } else {\n      reject('SObject Selection Aborted')\n    }\n  })\n}\n\nexport default {\n  pickOne: pickSObjectType\n}","import * as vscode from 'vscode'\n\n\nasync function askConfirmation(): Promise<boolean> {\n    return new Promise(async (resolve, reject) => {\n        const confirmed = await vscode.window.showQuickPick([{ label: 'Yes', value: true }, { label: 'No', value: false }], { ignoreFocusOut: true, placeHolder: 'Are you sure?' })\n        confirmed ? resolve(confirmed.value) : reject('Operation Aborted')\n    })\n}\n\nexport default {\n  confirmation: askConfirmation\n}","import { PathLike, Dirent } from \"fs\"\nimport { SObjectType } from \"./SObjectType\"\n\nclass SObjectFile {\n  label: string\n  fileName: string\n  folder: PathLike\n  extension: string\n  sObjectType: SObjectType\n  isDirectory: boolean\n  constructor(file: Dirent, folder: PathLike) {\n    let fileName = file.name\n    this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n    this.fileName = fileName //filename, e.g.: Account.object\n    this.folder = folder //depends on project structure\n    this.isDirectory = file.isDirectory()\n    this.extension = fileName.split('.')[1] //Should be .object for salefsorce sobject metadata definition files\n    this.sObjectType = this.label.endsWith('__mdt') ? SObjectType.CustomMetadata : SObjectType.SObject\n  }\n}\n\nexport default SObjectFile","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.doctype(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLNode = require('./XMLNode');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      this.isDocument = true;\n    }\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer.set(writerOptions);\n      }\n      return writer.document(this);\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.set(options).document(this);\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject;\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter(options);\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter(writerOptions);\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node\");\n      }\n      this.openCurrent();\n      name = name.valueOf();\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.dtdElement.apply(this, arguments);\n      } else {\n        return this.node(name, attributes, text);\n      }\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode\");\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.currentNode.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.currentLevel + 1));\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.currentLevel + 1));\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node instanceof XMLElement) {\n          this.root = node;\n        }\n        this.onData(this.writer.openNode(node, this.currentLevel));\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      if (!node.isClosed) {\n        this.onData(this.writer.closeNode(node, this.currentLevel));\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode instanceof XMLDocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStreamWriter, XMLText, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      XMLStreamWriter.__super__.constructor.call(this, options);\n      this.stream = stream;\n    }\n\n    XMLStreamWriter.prototype.document = function(doc) {\n      var child, i, j, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        child.isLastRootNode = false;\n      }\n      doc.children[doc.children.length - 1].isLastRootNode = true;\n      ref1 = doc.children;\n      results = [];\n      for (j = 0, len1 = ref1.length; j < len1; j++) {\n        child = ref1[j];\n        switch (false) {\n          case !(child instanceof XMLDeclaration):\n            results.push(this.declaration(child));\n            break;\n          case !(child instanceof XMLDocType):\n            results.push(this.docType(child));\n            break;\n          case !(child instanceof XMLComment):\n            results.push(this.comment(child));\n            break;\n          case !(child instanceof XMLProcessingInstruction):\n            results.push(this.processingInstruction(child));\n            break;\n          default:\n            results.push(this.element(child));\n        }\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att) {\n      return this.stream.write(' ' + att.name + '=\"' + att.value + '\"');\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, level) {\n      return this.stream.write(this.space(level) + '<![CDATA[' + node.text + ']]>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, level) {\n      return this.stream.write(this.space(level) + '<!-- ' + node.text + ' -->' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, level) {\n      this.stream.write(this.space(level));\n      this.stream.write('<?xml version=\"' + node.version + '\"');\n      if (node.encoding != null) {\n        this.stream.write(' encoding=\"' + node.encoding + '\"');\n      }\n      if (node.standalone != null) {\n        this.stream.write(' standalone=\"' + node.standalone + '\"');\n      }\n      this.stream.write(this.spacebeforeslash + '?>');\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, level) {\n      var child, i, len, ref;\n      level || (level = 0);\n      this.stream.write(this.space(level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node));\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          switch (false) {\n            case !(child instanceof XMLDTDAttList):\n              this.dtdAttList(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDElement):\n              this.dtdElement(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDEntity):\n              this.dtdEntity(child, level + 1);\n              break;\n            case !(child instanceof XMLDTDNotation):\n              this.dtdNotation(child, level + 1);\n              break;\n            case !(child instanceof XMLCData):\n              this.cdata(child, level + 1);\n              break;\n            case !(child instanceof XMLComment):\n              this.comment(child, level + 1);\n              break;\n            case !(child instanceof XMLProcessingInstruction):\n              this.processingInstruction(child, level + 1);\n              break;\n            default:\n              throw new Error(\"Unknown DTD node type: \" + child.constructor.name);\n          }\n        }\n        this.stream.write(']');\n      }\n      this.stream.write(this.spacebeforeslash + '>');\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.element = function(node, level) {\n      var att, child, i, len, name, ref, ref1, space;\n      level || (level = 0);\n      space = this.space(level);\n      this.stream.write(space + '<' + node.name);\n      ref = node.attributes;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att);\n      }\n      if (node.children.length === 0 || node.children.every(function(e) {\n        return e.value === '';\n      })) {\n        if (this.allowEmpty) {\n          this.stream.write('></' + node.name + '>');\n        } else {\n          this.stream.write(this.spacebeforeslash + '/>');\n        }\n      } else if (this.pretty && node.children.length === 1 && (node.children[0].value != null)) {\n        this.stream.write('>');\n        this.stream.write(node.children[0].value);\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.newline);\n        ref1 = node.children;\n        for (i = 0, len = ref1.length; i < len; i++) {\n          child = ref1[i];\n          switch (false) {\n            case !(child instanceof XMLCData):\n              this.cdata(child, level + 1);\n              break;\n            case !(child instanceof XMLComment):\n              this.comment(child, level + 1);\n              break;\n            case !(child instanceof XMLElement):\n              this.element(child, level + 1);\n              break;\n            case !(child instanceof XMLRaw):\n              this.raw(child, level + 1);\n              break;\n            case !(child instanceof XMLText):\n              this.text(child, level + 1);\n              break;\n            case !(child instanceof XMLProcessingInstruction):\n              this.processingInstruction(child, level + 1);\n              break;\n            default:\n              throw new Error(\"Unknown XML node type: \" + child.constructor.name);\n          }\n        }\n        this.stream.write(space + '</' + node.name + '>');\n      }\n      return this.stream.write(this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, level) {\n      this.stream.write(this.space(level) + '<?' + node.target);\n      if (node.value) {\n        this.stream.write(' ' + node.value);\n      }\n      return this.stream.write(this.spacebeforeslash + '?>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, level) {\n      return this.stream.write(this.space(level) + node.value + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, level) {\n      return this.stream.write(this.space(level) + node.value + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, level) {\n      this.stream.write(this.space(level) + '<!ATTLIST ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType);\n      if (node.defaultValueType !== '#DEFAULT') {\n        this.stream.write(' ' + node.defaultValueType);\n      }\n      if (node.defaultValue) {\n        this.stream.write(' \"' + node.defaultValue + '\"');\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, level) {\n      this.stream.write(this.space(level) + '<!ELEMENT ' + node.name + ' ' + node.value);\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, level) {\n      this.stream.write(this.space(level) + '<!ENTITY');\n      if (node.pe) {\n        this.stream.write(' %');\n      }\n      this.stream.write(' ' + node.name);\n      if (node.value) {\n        this.stream.write(' \"' + node.value + '\"');\n      } else {\n        if (node.pubID && node.sysID) {\n          this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n        } else if (node.sysID) {\n          this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n        }\n        if (node.nData) {\n          this.stream.write(' NDATA ' + node.nData);\n        }\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, level) {\n      this.stream.write(this.space(level) + '<!NOTATION ' + node.name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.pubID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      return this.stream.write(this.spacebeforeslash + '>' + this.endline(node));\n    };\n\n    XMLStreamWriter.prototype.endline = function(node) {\n      if (!node.isLastRootNode) {\n        return this.newline;\n      } else {\n        return '';\n      }\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","module.exports = require(\"string_decoder\");","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","import ProfileFile from \"../commands/metadatamanagement/profiles/structures/ProfileFile\"\nimport MetadataStructure from \"../commands/metadatamanagement/profiles/structures/MetadataStructure\"\n\nexport default class SwiftSfdcConfiguration {\n  defaultProfiles: ProfileFile[] | undefined = undefined\n  metadataStructure: MetadataStructure | undefined = MetadataStructure.SF_SFDX\n  packageLocation: string =  './manifest/'\n  sfRootFolder: string = './force-app/main/default'\n  constructor() {\n  }\n}","import { PathLike } from \"fs\"\n\nclass ProfileFile {\n  label: string\n  fileName: string\n  folder: PathLike\n  extension: string\n\n  constructor(fileName: string, folder: PathLike) {\n    this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the profiles\n    this.fileName = fileName //filename, e.g.: Account.profile\n    this.folder = folder //Should be src/profiles\n    this.extension = fileName.split('.')[1] //Should be .profile for salefsorce sobject metadata definition files\n  }\n}\n\nexport default ProfileFile","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\r\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.configListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"console\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 116;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 117;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","module.exports = require(\"async_hooks\");","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","module.exports = require(\"net\");","module.exports = require(\"dns\");","module.exports = require(\"crypto\");","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map","import ConfigManager from '../config/config-manager'\nimport * as vscode from 'vscode'\nimport ProfileFile from './metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nexport default async function configureDefaultFieldsProfiles() {\n  Monitor.getInstance().sendEvent('configureDefaultFieldsProfiles')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    let preselected: string[] = []\n\n    if (ConfigManager.getInstance().getConfig().defaultProfiles !== undefined) {\n      let stored = ConfigManager.getInstance().getConfig().defaultProfiles || []\n      preselected = stored.map(el => el.label)\n    }\n    const selectedProfiles = await Prompts.profiles.pickMany(profiles, preselected)\n    ConfigManager.getInstance().getConfig().defaultProfiles = selectedProfiles\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureDefaultFieldsProfiles', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ApexClassesFileManager from './metadatamanagement/apexClasses/apexClassesFileManager'\nimport ApexClassFile from './metadatamanagement/apexClasses/structures/ApexClassFile'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureClassAccessForProfile(profile: string, classes: ApexClassFile[], preselectedClasses: string[]): Promise<any> {\n\n  const classesOptions = classes.map(cls => {\n    return { ...cls, picked: preselectedClasses.includes(cls.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(classesOptions, { ignoreFocusOut: true, placeHolder: `Select all Apex Classes you want to add access to profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nexport default async function configureProfilesApexClasses() {\n  Monitor.getInstance().sendEvent('configureProfilesApexClasses')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const availableApexClasses = await ApexClassesFileManager.getObjectsFromMetaData()\n    const selectedApexClasses = await configureClassAccessForProfile(selectedProfile.label, availableApexClasses, unpackedProfile.Profile.classAccesses.filter((cls: { enabled: any; }) => cls.enabled).map((classAccess: { apexClass: any }) => classAccess.apexClass))\n    const selectedApexClassesNames = selectedApexClasses.map((cls: { label: any }) => cls.label)\n    ProfilesFileMgr.updateProfilesApexClassesAccess(selectedProfile, selectedApexClassesNames)\n    vscode.window.showInformationMessage(`Updated classes access on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureProfilesApexClasses', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import ApexClassFile from './structures/ApexClassFile'\nimport * as path from 'path'\nimport * as vscode from 'vscode'\nimport * as fs from 'fs'\nimport { PathLike } from \"fs\"\nimport ConfigManager from '../../../config/config-manager'\n\nexport default {\n\n    getObjectsFromMetaData: function (): ApexClassFile[] {\n        const p = path.join(ConfigManager.getInstance().getVSCodeRoot() as string, ConfigManager.getInstance().retrieveBackwardCompatibleRootFolder(), 'classes')\n        const files = fs.readdirSync(p)\n        if (files.length === 0) { throw Error('No Apex Class definition file was found in folder ' + p) }\n        return this.generateSObjectDefinitions(files, p)\n    },\n\n    generateSObjectDefinitions: function (fileNames: string[], path: PathLike): ApexClassFile[] {\n        return fileNames.filter(el => el.endsWith('.cls')).map(filename => new ApexClassFile(filename, path))\n    }\n}","import { PathLike } from \"fs\"\n\nclass ApexClassFile {\n    label: string\n    fileName: string\n    folder: PathLike\n    extension: string\n    constructor(fileName: string, folder: PathLike) {\n        this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n        this.fileName = fileName //filename, e.g.: Account.object\n        this.folder = folder //Should be src/objects\n        this.extension = fileName.split('.')[1] //Should be .cls for salefsorce sobject metadata definition files\n    }\n}\n\nexport default ApexClassFile","import * as vscode from 'vscode'\nimport ProfileFile from './metadatamanagement/profiles/structures/ProfileFile'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ApexPagesFileManager from './metadatamanagement/apexPages/apexPagesFileManager'\nimport ApexPageFile from './metadatamanagement/apexPages/structures/ApexPageFile'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureClassAccessForProfile(profile: string, classes: ApexPageFile[], preselectedPages: string[]): Promise<any> {\n\n  const pagesOptions = classes.map(cls => {\n    return { ...cls, picked: preselectedPages.includes(cls.label) }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(pagesOptions, { ignoreFocusOut: true, placeHolder: `Select all Apex Classes you want to add access to profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\nexport default async function configureProfilesApexPages() {\n  Monitor.getInstance().sendEvent('configureProfilesApexPages')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const availableApexPages = await ApexPagesFileManager.getObjectsFromMetaData()\n    const selectedApexPages = await configureClassAccessForProfile(selectedProfile.label, availableApexPages, unpackedProfile.Profile.pageAccesses.filter((cls: { enabled: any; }) => cls.enabled).map((pageAccess: { apexPage: any }) => pageAccess.apexPage))\n    const selectedApexPagesNames = selectedApexPages.map((page: { label: any }) => page.label)\n    ProfilesFileMgr.updateProfilesApexPagesAccess(selectedProfile, selectedApexPagesNames)\n    vscode.window.showInformationMessage(`Updated Visualforce pages access on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureProfilesApexPages', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import ApexPageFile from './structures/ApexPageFile'\nimport * as path from 'path'\nimport * as fs from 'fs'\nimport { PathLike } from \"fs\"\nimport ConfigManager from '../../../config/config-manager'\n\nexport default {\n\n    getObjectsFromMetaData: function (): ApexPageFile[] {\n        const p = path.join(ConfigManager.getInstance().getVSCodeRoot() as string, ConfigManager.getInstance().retrieveBackwardCompatibleRootFolder(), 'pages')\n        const files = fs.readdirSync(p)\n        if (files.length === 0) { throw Error('No Visualforce Page definition file was found in folder ' + p) }\n        return this.generateSObjectDefinitions(files, p)\n    },\n\n    generateSObjectDefinitions: function (fileNames: string[], path: PathLike): ApexPageFile[] {\n        return fileNames.filter(el => el.endsWith('.page')).map(filename => new ApexPageFile(filename, path))\n    }\n}","import { PathLike } from \"fs\"\n\nclass ApexPageFile {\n    label: string\n    fileName: string\n    folder: PathLike\n    extension: string\n    constructor(fileName: string, folder: PathLike) {\n        this.label = fileName.split('.')[0] //filename without the extension since saleforce names files like the objects\n        this.fileName = fileName //filename, e.g.: Account.object\n        this.folder = folder //Should be src/pages\n        this.extension = fileName.split('.')[1] //Should be .page for salefsorce sobject metadata definition files\n    }\n}\n\nexport default ApexPageFile","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport ProfileUserPermission from './metadatamanagement/profiles/structures/ProfileUserPermission'\nimport UserPermission from './metadatamanagement/profiles/structures/profile-fields-templates/UserPermission'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureUserPermissions(profile: string, userPermissions: string[], preselectedPermissionsMap: any): Promise<any> {\n\n  const permissionOptions = userPermissions.map(perm => {\n    let picked = preselectedPermissionsMap[perm] && preselectedPermissionsMap[perm].enabled\n    let found = !!preselectedPermissionsMap[perm]\n    return { label: perm, picked, description: `(${picked ? 'Enabled on profile' : (found ? 'Disabled on profile' : 'Not in profile')})` }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(permissionOptions, { ignoreFocusOut: true, placeHolder: `Select all user permissions for profile ${profile}.`, canPickMany: true })\n    if (res !== undefined) {\n      // res.forEach((element: { picked: boolean }) => {\n      //   delete element.picked\n      // })\n      resolve(res)\n    } else {\n      reject('Profile User Permission Configuration Aborted')\n    }\n  })\n}\n\n/**\n * The behaviour is: we check the files and pre-select the enabled ones.\n * Then we show the user the entire list and prompt for selection\n * In the end, we turn off all the permissions already contained in the profile metadata file, \n * turning then on the selected ones and adding the missing ones\n * No disabled new permission is added\n */\nexport default async function configureProfilesUserPermissions() {\n  Monitor.getInstance().sendEvent('configureProfilesUserPermissions')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const userPermissions: UserPermission[] = unpackedProfile.Profile.userPermissions\n    const mappedPermissions = userPermissions.reduce((acc: any, current: any) => {\n      acc[current.name] = current\n      return acc\n    }, {})\n\n    const enabledPermissions: string[] = (await configureUserPermissions(selectedProfile.label, Object.keys(ProfileUserPermission), mappedPermissions) || []).map((el: { label: string }) => el.label)\n\n    ProfileFilesManager.updateProfilesUserPermissions(selectedProfile, enabledPermissions)\n\n    vscode.window.showInformationMessage(`Updated user permissions on profile ${selectedProfile.label}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureProfilesUserPermissions', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport UserPermission from './metadatamanagement/profiles/structures/profile-fields-templates/UserPermission'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureProfilesForPermission(profileMetas: { name: string, meta: any }[], permission: string): Promise<string> {\n\n  const options = profileMetas.map(prof => {\n    let picked = false\n    let found = undefined\n    if (prof.meta.Profile.userPermissions) {\n      found = prof.meta.Profile.userPermissions.find((perm: UserPermission) => {\n        return perm.name === permission\n      })\n      if (found && found.enabled) { picked = true }\n    }\n    return {\n      label: prof.name,\n      picked,\n      description: `(${picked ? 'Enabled on profile' : (found ? 'Disabled on profile' : 'Not in profile')})`\n    }\n  })\n\n  return new Promise(async (resolve, reject) => {\n    const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select all Profiles you want to enable permission ${permission}.`, canPickMany: true })\n    if (res !== undefined) {\n      resolve(res.map((el: { label: any; }) => el.label))\n    } else {\n      reject('Profiles Configuration Aborted')\n    }\n  })\n}\n\n/**\n * The behaviour is: we check the files and pre-select the enabled ones.\n * Then we show the user the entire list and prompt for selection\n * In the end, we turn off all the permissions already contained in the profile metadata file, \n * turning then on the selected ones and adding the missing ones\n * No disabled new permission is added\n */\nexport default async function configureProfilesUserPermission() {\n  Monitor.getInstance().sendEvent('configureProfilesUserPermission')\n  try {\n    const permission = await Prompts.profiles.pickUserPermission()\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n\n    const unpackedProfileMetas = await Promise.all(profiles.map(async prof => {\n      return {\n        name: prof.label,\n        meta: await ProfileFilesManager.readProfileDefinitionFile(prof)\n      }\n    }))\n\n    const selectedProfiles = await configureProfilesForPermission(unpackedProfileMetas, permission)\n\n    await Promise.all(profiles.map(async prof => {\n      await ProfileFilesManager.updateProfileSinglePermission(prof, permission, selectedProfiles.includes(prof.label))\n    }))\n\n    vscode.window.showInformationMessage(`Updated user permissions for ${permission} on all profiles`)\n\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureProfilesUserPermission', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport ProfileFilesManager from './metadatamanagement/profiles/ProfileFilesManager'\nimport ProfilesFileMgr from './metadatamanagement/profiles/ProfileFilesManager'\nimport Prompts from './builders/prompts/Prompts'\nimport sObjFileMgr from './metadatamanagement/sObjects/SObjectFilesManager'\nimport SObjectFile from './metadatamanagement/sObjects/structures/SObjectFile'\nimport FieldPermission from './metadatamanagement/profiles/structures/profile-fields-templates/FieldPermission'\nimport { SObjectType } from './metadatamanagement/sObjects/structures/SObjectType'\nimport AccessType from './metadatamanagement/profiles/structures/AccessType'\nimport SObjectFieldDefinition from './metadatamanagement/sObjects/structures/SObjectFieldDefinition'\nimport Monitor from '../monitoring/monitor'\n\nasync function configureFLSForProfileAndSObject(profileName: string, sObjectName: string, objectDefinition: any, unpackedProfile: any): Promise<SObjectFieldDefinition> {\n  return new Promise(async (resolve, reject) => {\n    if (objectDefinition.CustomObject.fields) {\n      const filteredSelectedObjFields = objectDefinition.CustomObject.fields.filter((field: any) => {\n        return field.fullName.endsWith('__c') && !field.required\n      })\n\n      const fieldPermissions: FieldPermission[] = unpackedProfile.Profile.fieldPermissions\n      const mappedPermissions = fieldPermissions.reduce((acc: any, current: any) => {\n        if (current.field.startsWith(sObjectName)) { acc[current.field] = current }\n        return acc\n      }, {})\n\n      const options = filteredSelectedObjFields.map((field: any) => {\n        let opt = {\n          label: field.fullName,\n          description: '',\n          detail: '',\n          field: {\n            editable: false,\n            field: field,\n            readable: false\n          }\n        }\n        opt.field.field = field\n        if (mappedPermissions[`${sObjectName}.${field.fullName}`]) {\n          let perm = mappedPermissions[`${sObjectName}.${field.fullName}`]\n\n          opt.description += perm.editable ? '' : (perm.readable ? '' : '')\n          opt.detail += perm.editable ? 'EDITABLE' : (perm.readable ? 'READABLE' : 'NO ACCESS')\n\n        } else {\n          opt.description = ''\n          opt.detail = 'NOT IN PROFILE'\n        }\n        return opt\n      })\n\n\n\n      const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select ${sObjectName} field you want to edit FLS for profile ${profileName}.`, matchOnDetail: true })\n      if (res !== undefined) {\n        resolve(res.field.field)\n      } else {\n        reject('Profiles FLS Configuration Aborted')\n      }\n\n    } else {\n      reject(`No Fields were found for the SObject ${sObjectName}`)\n    }\n\n  })\n}\n\nasync function configureFLSForField(field: string, profileName: string): Promise<AccessType> {\n  return new Promise(async (resolve, reject) => {\n\n    let options = [\n      {\n        label: 'READABLE',\n        description: '',\n        perm: AccessType.read\n      },\n      {\n        label: 'EDITABLE',\n        description: '',\n        perm: AccessType.edit\n      },\n      {\n        label: 'NO ACCESS',\n        description: '',\n        perm: AccessType.none\n      },\n    ]\n\n    const res: any | undefined = await vscode.window.showQuickPick(options, { ignoreFocusOut: true, placeHolder: `Select ${field} access level for profile ${profileName}.` })\n\n    if (res !== undefined) {\n      resolve(res.perm)\n    } else {\n      reject('Profiles FLS Configuration Aborted')\n    }\n\n  })\n}\n\nexport default async function configureProfilesFLS() {\n  Monitor.getInstance().sendEvent('configureProfilesFLS')\n  try {\n    const profiles = ProfileFilesManager.getObjectsFromMetaData()\n    const selectedProfile = await Prompts.profiles.pickOne(profiles)\n    const unpackedProfile = await ProfileFilesManager.readProfileDefinitionFile(selectedProfile)\n    const SObjectFiles = await sObjFileMgr.getObjectsFromMetaData()\n    // Filtering out custom metadata\n    const pickedSObject: SObjectFile = await Prompts.sObjects.pickOne(SObjectFiles.filter((sObj) => sObj.sObjectType === SObjectType.SObject))\n    const objectDefinition: any = await sObjFileMgr.readSObjectDefinitionFile(pickedSObject)\n\n    const pickedField: SObjectFieldDefinition = await configureFLSForProfileAndSObject(selectedProfile.label, pickedSObject.label, objectDefinition, unpackedProfile)\n\n    const permission: AccessType = await configureFLSForField(pickedField.fullName, selectedProfile.label)\n\n\n    ProfilesFileMgr.updateProfilesVisibilityForField([selectedProfile], [{ sObject: pickedSObject, fields: [pickedField] }], permission)\n    vscode.window.showInformationMessage(`Updated FLS on profile ${selectedProfile.label} for ${pickedSObject.label}.${pickedField.fullName}`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('configureProfilesFLS', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport * as path from 'path'\nimport Monitor from '../monitoring/monitor'\nimport ConfigManager from '../config/config-manager'\nimport Prompts from './builders/prompts/Prompts'\n\n// Main functionality\nexport default async function resetConfig() {\n  Monitor.getInstance().sendEvent('resetConfig')\n  try {\n    let result = await Prompts.utils.confirmation()\n    ConfigManager.getInstance().resetToDefault()\n    vscode.window.showInformationMessage(`Configuration file was reset to default.`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('resetConfig', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}","import * as vscode from 'vscode'\nimport * as path from 'path'\nimport Monitor from '../monitoring/monitor'\nimport ConfigManager from '../config/config-manager'\nimport Prompts from './builders/prompts/Prompts'\n\n// Main functionality\nexport default async function reloadConfig() {\n  Monitor.getInstance().sendEvent('reloadConfig')\n  try {\n    let result = await Prompts.utils.confirmation()\n    ConfigManager.getInstance().reloadConfig()\n    vscode.window.showInformationMessage(`Configuration file was reloaded.`)\n  } catch (err) {\n    vscode.window.showErrorMessage(err)\n    Monitor.getInstance().sendError('reloadConfig', {message: err.message, name: err.name, stackTrace: err.stack})\n    console.log(err)\n  }\n}"],"sourceRoot":""}